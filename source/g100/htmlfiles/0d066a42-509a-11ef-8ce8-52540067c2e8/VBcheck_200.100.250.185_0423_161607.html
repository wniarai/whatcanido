<html>
			<head>
			<style type="text/css">
			body        {font:14px Courier New,Helvetica,sansserif; color:black; background:White; margin-left: 11px;}
			table {font:14px Courier New,Helvetica,sansserif; color:Black; background:#FFFFCC; table-layout: fixed; cborder: 1px solid #000000; border-collapse: collapse; }
			tr {font:14px Courier New,Helvetica,sansserif; color:Black; background:#FFFFCC;}
			td {font:14px Courier New,Helvetica,sansserif; color:Black; background:#FFFFCC; padding: 5; word-break: break-all;}
			th          {font:bold 16px Courier New,Helvetica,sansserif; color:White; background:#3366FF; padding:0px 0px 0px 0px;border: 1px solid #000000;}
			h2          {font:bold 18pt Courier New,Helvetica,sansserif; color: Black; padding:0px 0px 0px 0px;}
			h1          {font:bold 20pt Courier New,Helvetica,sansserif; color: #0066CC; padding:0px 0px 0px 0px;width:72% ;text-align:center;}
			.NORMAL {display: none;}

			html,body{
				scroll-behavior: smooth;
				margin: 0px;
				/*overflow: auto;*/
			}

			h3 {
				color: #F77A0B;
				font-size: 1.5em;
				display: block;
				margin-block-start: 1em;
				margin-block-end: 1em;
				margin-inline-start: 0px;
				margin-inline-end: 0px;
				font-weight: bold;
			}

			h5 {
				display: block;
				font-size: 0.83em;
				margin-block-start: 1.67em;
				margin-block-end: 1.67em;
				margin-inline-start: 0px;
				margin-inline-end: 0px;
				font-weight: bold;
			}

			.foldbtn {
				font-weight: bold;
				position: relative;
				clear: both;
				background: #F88825;
				line-height: 12px;
				border-radius: 4px;
				color:  #fff;
				cursor: pointer;
				text-align: center;
				width: 590px;
				margin-top: 5px;
				padding: 5px 0;
			}

			.detail_wrapper {
				display: flex;
				margin: 8px auto;
				/*width: 800px;*/
				overflow: hidden;
				border-radius: 8px;
				padding: 8px ;
				/*box-shadow: 5px 5px 12px #bebebe, -5px -5px 12px #ffffff;*/
			}

			.detail_text {
				white-space: pre;
				word-break:break-all;
				flex-direction:row-reverse;
				justify-content:space-between;
				/*      display: -webkit-box;
				-webkit-line-clamp: 5;
				-webkit-box-orient: vertical;*/
				width: 100%;
				position: relative;
				line-height: 1.2;
			}
			.detail_text::before {
				content: ""; /* 这行很重要 */
				float: right;
				height: calc(100% - 171px);
			}
			.detail_text::after {
				position: absolute;
			}
			.detail_btn {
				position: relative;
				float: right;
				clear: both;
				margin-left: 20px;
				margin-top: 10em;
				padding: 0 8px;
				background: #3F51B5;
				line-height: 24px;
				border-radius: 4px;
				color:  #fff;
				cursor: pointer;
			}
			.detail_btn::before {
				content: "...";
				position: absolute;
				left: -5px;
				color: #333;
				transform: translateX(-100%)
			}
			.detail_btn::after{
				content:"展开"
			}

			.detail_exp{
				display: none;
			}
			.detail_exp:checked+.detail_text{
				max-height: none;
			}
			.detail_exp:checked+.detail_text::after{
				visibility: hidden;
			}
			.detail_exp:checked+.detail_text .detail_btn::after{
				content: "折叠"
			}
			.detail_exp:checked+.detail_text .detail_btn::before {
				visibility: hidden; /*在展开状态下隐藏省略号*/
			}
			.suggest {
				padding: 6px;
			}

			.table_foldbtn {
				text-decoration: none;
				color: #fff;
				display: inherit;
			}

			.table_foldbtn:link {
				text-decoration: none;
				color: #fff;
			}



			/*suggest*/
			.panel {
				margin-bottom: 20px;
				background-color: #ffffff;
				border: 1px solid transparent;
				border-radius: 4px;
				width: 94%;
				-webkit-box-shadow: 0 1px 1px rgb(0 0 0 / 5%);
				box-shadow: 0 1px 1px rgb(0 0 0 / 5%);
			}
			.panel-warning {
				border-color: #FFEDCA;
				background-color: #FFEDCA;
			}

			.panel-heading {
				border-bottom: 10px solid transparent;
				padding: 0px 0px;
				padding-left: 10px;
				border-top-right-radius: 3px;
				border-top-left-radius: 3px;
			}
			.panel-body {
				padding: 5px 15px 15px 15px;
			}
			.panel-warning > .panel-heading {
				color: #ffffff;
				background-color: #F1B37A;
				border-color: #FFEDCA;
			}
			.panel-title {
				margin-top: 0 !important;
				margin-bottom: 0 !important;
				font-size: 18px !important;
				color: inherit;
			}

			.fa {
				display: inline-block;
				font: normal normal normal 14px/1 FontAwesome;
				font-size: inherit;
				text-rendering: auto;
				-webkit-font-smoothing: antialiased;
				-moz-osx-font-smoothing: grayscale;
			}

			.scroll_to_top {
				position: sticky;
				float: right;
				top: -150px;
				margin-top: -50px;
				margin-right: 25px;
				border-radius: 50%;
				background: url("data:image/svg+xml,%3Csvg%20t%3D%221678171580860%22%20class%3D%22icon%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20p-id%3D%221059%22%20width%3D%22200%22%20height%3D%22200%22%3E%3Cpath%20d%3D%22M540.928%20309.504l-30.165333-30.20799999-415.957334%20415.82933299a42.837333%2042.837333%200%200%200-1e-8%2060.288%2042.538667%2042.538667%200%200%200%2060.33066701%200.042667l355.541333-355.413333%20355.242667%20355.413333a42.496%2042.496%200%200%200%2060.288%200%2042.837333%2042.837333%200%200%200%200.085333-60.33066699l-383.701333-383.87200002-1.706667-1.74933299z%22%20fill%3D%22%233D3D3D%22%20p-id%3D%221060%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E") center no-repeat rgb(255,255,204);
				background-size: 50%;
				width: 45px;
				height: 45px;
				transform: translateY(calc(100vh + 50px));
			}


			.scroll_to_top:hover {
				background-color: #efefb8;
			}

			:root {
				--color-menu-bg: #fff;
				--font-color-mi: #000;
				--font-color-mi-hover: #3f51b5;
				--color-bg-mi-hover: #ececec;
				--border-radius-mi: 2px;
				--transition-menu-time: 0.2s;
				--color-line-bg: #d3d3d3;
			}

			.main-content {
				background-color: #e7e7e7;
				min-height: 100vh;
				overflow: hidden;
			}


			.content-box {
				height: 100%;
				overflow: auto;
				padding-left: 35px;
				text-overflow: ellipsis;
			}

			.menu-box {
				height: 100%;
				overflow: auto;
				float: left;
				letter-spacing: 0.5px;
				font-weight: 600;
				position: relative;
				width: fit-content;
				min-height: 100vh;
				padding: 6px 12px;
				box-sizing: border-box;
				background-color: var(--color-menu-bg);
			}

			.menu-box input[type=checkbox] {
				display: none;
			}

			.menu-box>label {
				position: absolute;
				top: 48%;
				right: 0;
				transform: translateX(50%);
				width: 20px;
				height: 20px;
				border-radius: 20px;
				box-shadow: 0px 0px 4px 0px #000;
				background-color: var(--color-menu-bg);
				color: var(--font-color-mi);
				display: flex;
				justify-content: center;
				align-items: center;
				overflow: hidden;
			}

			.menu-box>label>i {
				font-weight: 900;
				text-indent: -3px;
				font-size: 20px;
				transition: transform var(--transition-menu-time);
				transform: rotate(90deg);
			}

			.menu-box>label:hover {
				box-shadow: 0px 0px 2px 0px #000;
				color: var(--font-color-mi-hover);
			}

			.menu-box>input#menu-btn:checked+label>i {
				margin-left: 4px;
				transform: rotate(270deg);
			}

			.menu {
				width: 220;
				min-height: 100%;
				cursor: pointer;
				overflow: hidden;
				transition: width var(--transition-menu-time);
				color: var(--font-color-mi);
			}

			.menu-box>input#menu-btn:checked~.menu {
				width: 0;
			}

			.menu-title {
				text-align: center;
				margin: 10px 0;
				font-size: 25px;
			}

			.menu-item>label{
				position: relative;
				width: 100%;
				height: 50px;
				border-radius: var(--border-radius-mi);
				display: flex;
				align-items: center;
			}

			.menu-item>label:hover {
				color: var(--font-color-mi-hover);
			}

			.menu-item>label>i:first-child {
				flex: none;
				margin-right: 6px;
				font-size: 24px;
			}

			.menu-item>label>span {
				flex: 1;
			}

			.menu-item>label>i:last-child {
				flex: none;
				font-size: 20px;
				font-weight: 900;
				transform: rotate(0deg);
				transition: transform var(--transition-menu-time);
			}

			.menu-item>input:checked+label>i:last-child {
				transform: rotate(180deg);
			}

			.menu-content {
				height: 0;
				padding-left: 17px;
				overflow: hidden;
				transition: height var(--transition-menu-time);
				display: flex;
				flex-wrap: wrap;
				background-color: var(--color-menu-bg);
			}

			.menu-content>span {
				width: 100%;
				text-indent: 20px;
				line-height: 40px;
				border-radius: var(--border-radius-mi);
			}

			.menu-content>span:hover {
				background-color: var(--color-bg-mi-hover);
				color: var(--font-color-mi-hover);
			}

			.one-level-span {
				font-size: 20px;
				color:  rgb(247, 122, 11);
			}



			.menu_href {
				text-decoration: none;
				color: #000;
				font-size: 15;
				display: block;
			}

			.menu_href:link {
				text-decoration: none;
				color: #000;
			}

			.menu_href:visited {
				text-decoration: none;
				color: #000;
			}

			.menu_href:hover {
				text-decoration: none;
				color: var(--font-color-mi-hover);
			}
			.menu_href:active {
				text-decoration: none;
				color: #000;
			}
			.icon-suggestion {
				width: 20px;
				height: 20px;
				background-size: 100%;
				background-position: center top;
				background-repeat: no-repeat;
				float: left;
				margin-right: 3px;
				background-image: url(data:image/svg+xml,%3Csvg%20t%3D%221678157596202%22%20class%3D%22icon%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20p-id%3D%22942%22%20width%3D%22200%22%20height%3D%22200%22%3E%3Cpath%20d%3D%22M184%20342.4h161.5V598H184c-13.5%200-24.4-10.9-24.4-24.4V366.8c0-13.5%2011-24.4%2024.4-24.4z%22%20fill%3D%22%23F4CE26%22%20p-id%3D%22943%22%3E%3C%2Fpath%3E%3Cpath%20d%3D%22M369.9%20622.4H184c-26.9%200-48.8-21.9-48.8-48.8V366.8c0-26.9%2021.9-48.8%2048.8-48.8h185.9v304.4zM184%20366.8v206.8h137.1V366.8H184z%22%20fill%3D%22%23333333%22%20p-id%3D%22944%22%3E%3C%2Fpath%3E%3Cpath%20d%3D%22M692.9%20388.9h-68.6v185.9h68.6c13.5%200%2024.4-10.9%2024.4-24.4V413.3c0-13.5-10.9-24.4-24.4-24.4z%22%20fill%3D%22%23F4CE26%22%20p-id%3D%22945%22%3E%3C%2Fpath%3E%3Cpath%20d%3D%22M692.9%20599.2h-93V364.5h93c26.9%200%2048.8%2021.9%2048.8%2048.8v137.1c0%2026.9-21.8%2048.8-48.8%2048.8z%20m-44.1-48.8H693V413.3h-44.2v137.1zM810.3%20458.6h46.5c12.8%200%2023.2%2010.4%2023.2%2023.2%200%2012.8-10.4%2023.2-23.2%2023.2h-46.5c-12.8%200-23.2-10.4-23.2-23.2%200-12.8%2010.4-23.2%2023.2-23.2zM825%20577.9l40.2%2023.2c11.1%206.4%2014.9%2020.6%208.5%2031.7-6.4%2011.1-20.6%2014.9-31.7%208.5l-40.2-23.2c-11.1-6.4-14.9-20.6-8.5-31.7%206.4-11.1%2020.6-14.9%2031.7-8.5zM801.8%20345.5l40.2-23.2c11.1-6.4%2025.3-2.6%2031.7%208.5%206.4%2011.1%202.6%2025.3-8.5%2031.7L825%20385.7c-11.1%206.4-25.3%202.6-31.7-8.5-6.4-11.1-2.6-25.3%208.5-31.7z%22%20fill%3D%22%23333333%22%20p-id%3D%22946%22%3E%3C%2Fpath%3E%3Cpath%20d%3D%22M345.5%20339.6l243-129.2c11.9-6.3%2026.7-1.8%2033%2010.1%201.9%203.5%202.9%207.5%202.9%2011.5v497.2c0%2013.5-10.9%2024.4-24.4%2024.4-4.4%200-8.8-1.2-12.6-3.5L345.5%20604.9V339.6z%22%20fill%3D%22%23FFFFFF%22%20p-id%3D%22947%22%3E%3C%2Fpath%3E%3Cpath%20d%3D%22M600%20778c-8.8%200-17.5-2.4-25.1-6.9L321.1%20618.8V324.9L577%20188.8c23.7-12.7%2053.4-3.6%2066%2020.2%203.7%207.1%205.7%2015%205.7%2022.9v497.2c0.1%2027-21.8%2048.9-48.7%2048.9zM369.9%20591.1L600%20729.2V232L369.9%20354.3v236.8z%22%20fill%3D%22%23333333%22%20p-id%3D%22948%22%3E%3C%2Fpath%3E%3Cpath%20d%3D%22M206.1%20609.6h93v138.3c0%2013.5-10.9%2024.4-24.4%2024.4h-44.2c-13.5%200-24.4-10.9-24.4-24.4V609.6z%22%20fill%3D%22%23FFFFFF%22%20p-id%3D%22949%22%3E%3C%2Fpath%3E%3Cpath%20d%3D%22M274.7%20796.7h-44.2c-26.9%200-48.8-21.9-48.8-48.8V585.2h141.8v162.7c0%2026.9-21.9%2048.8-48.8%2048.8zM230.5%20634v113.9h44.2V634h-44.2z%22%20fill%3D%22%23333333%22%20p-id%3D%22950%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E);
			}

			.menu-item-icon {
				background-size: 100%;
				argin-left: 15px;
				background-position: center top;
				background-repeat: no-repeat;
				float: left;
				font-style: normal;
				-webkit-font-smoothing: antialiased;
				-moz-osx-font-smoothing: grayscale;
			}
			.icon-OS-Checklist {
				width: 23px; height: 23px;
				background-image: url(data:image/svg+xml,%3Csvg%20t%3D%221678432814343%22%20class%3D%22icon%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20p-id%3D%221671%22%20width%3D%22200%22%20height%3D%22200%22%3E%3Cpath%20d%3D%22M399.146667%20339.626667c-21.12%200-37.76%207.893333-49.92%2023.466666s-18.133333%2036.053333-18.133334%2061.013334c0%2024.533333%205.973333%2044.8%2017.706667%2060.373333%2011.733333%2015.573333%2028.16%2023.466667%2048.853333%2023.466667%2021.12%200%2037.546667-7.466667%2049.28-22.4%2011.733333-14.933333%2017.706667-34.986667%2017.706667-60.373334%200-26.453333-5.76-47.146667-17.066667-62.506666-11.52-15.36-27.52-23.04-48.426666-23.04z%22%20p-id%3D%221672%22%3E%3C%2Fpath%3E%3Cpath%20d%3D%22M832%20106.666667H192C144.853333%20106.666667%20106.666667%20144.853333%20106.666667%20192v469.333333c0%2047.146667%2038.186667%2085.333333%2085.333333%2085.333334h213.333333l-42.666666%20106.666666h-74.666667c-17.706667%200-32%2014.293333-32%2032s14.293333%2032%2032%2032h448c17.706667%200%2032-14.293333%2032-32s-14.293333-32-32-32H661.333333l-42.666666-106.666666h213.333333c47.146667%200%2085.333333-38.186667%2085.333333-85.333334V192c0-47.146667-38.186667-85.333333-85.333333-85.333333zM396.8%20554.666667c-36.266667%200-65.706667-11.946667-88.32-35.626667-22.613333-23.893333-33.92-54.4-33.92-91.946667%200-39.68%2011.52-71.893333%2034.773333-96.853333%2023.04-24.96%2053.76-37.333333%2091.733334-37.333333%2036.053333%200%2065.28%2011.946667%2087.253333%2036.053333s33.066667%2055.04%2033.066667%2092.8c0%2039.466667-11.52%2071.466667-34.346667%2096C463.786667%20542.293333%20433.92%20554.666667%20396.8%20554.666667z%20m300.16-19.2c-17.28%2012.8-41.6%2019.2-73.386667%2019.2-29.013333%200-52.693333-4.693333-71.253333-14.08v-53.973334c20.266667%2016.853333%2043.52%2025.386667%2069.333333%2025.386667%2014.72%200%2025.813333-2.56%2033.066667-7.68%207.466667-5.12%2011.093333-11.52%2011.093333-19.413333%200-6.826667-2.986667-13.44-8.746666-19.413334s-21.333333-14.293333-46.506667-24.746666c-39.466667-16.853333-59.306667-41.173333-59.306667-73.173334%200-23.466667%208.96-41.813333%2026.88-54.826666s41.6-19.413333%2071.04-19.413334c24.746667%200%2045.44%203.2%2062.293334%209.6v50.56c-17.066667-11.52-36.906667-17.28-59.52-17.28-13.226667%200-23.893333%202.346667-31.786667%207.253334-7.893333%204.906667-11.946667%2011.306667-11.946667%2019.413333%200%206.613333%202.773333%2012.586667%208.106667%2018.133333%205.546667%205.546667%2018.986667%2013.013333%2040.32%2022.4%2025.173333%2010.88%2042.453333%2022.186667%2051.84%2034.133334s14.08%2026.24%2014.08%2042.88c0.213333%2023.893333-8.533333%2042.453333-25.6%2055.04z%22%20p-id%3D%221673%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E);
			}

			.icon-DB-Checklist {
				width: 21px; height: 21px;
				background-image: url(data:image/svg+xml,%3Csvg%20t%3D%221678433408301%22%20class%3D%22icon%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20p-id%3D%221719%22%20width%3D%22200%22%20height%3D%22200%22%3E%3Cpath%20d%3D%22M511.850044%200.299912C229.332813%200.299912%200.299912%20107.568486%200%20239.929708v544.140584c0%20132.461193%20229.132871%20239.929708%20511.850044%20239.929708s511.850044-107.468515%20511.850044-239.929708V239.929708C1023.400176%20107.568486%20794.367275%200.299912%20511.850044%200.299912zM167.950796%20895.737577c-22.093527%200-39.988285-17.894757-39.988285-39.988285s17.894757-39.988285%2039.988285-39.988284%2039.988285%2017.894757%2039.988284%2039.988284-17.894757%2039.988285-39.988284%2039.988285z%20m791.768036-188.644733c-17.894757%2011.496632-37.489017%2022.193498-58.782778%2032.190569-104.969247%2049.18559-243.228742%2076.277653-389.08601%2076.277653s-284.116763-27.092063-389.08601-76.277653c-21.293762-9.997071-40.888021-20.693937-58.782779-32.190569v-79.176804c87.274431%2073.778385%20255.125256%20123.66377%20447.868789%20123.663771s360.594357-49.885385%20447.868788-123.663771v79.176804zM127.962511%20583.828956c0-22.093527%2017.894757-39.988285%2039.988285-39.988284s39.988285%2017.894757%2039.988284%2039.988284-17.894757%2039.988285-39.988284%2039.988285-39.988285-17.894757-39.988285-39.988285z%20m831.756321-148.156594c-17.894757%2011.496632-37.489017%2022.193498-58.782778%2032.190569-104.969247%2049.18559-243.228742%2076.277653-389.08601%2076.277653S227.733281%20517.048521%20122.764034%20467.862931c-21.293762-9.997071-40.888021-20.693937-58.782779-32.190569v-79.176804c87.274431%2073.778385%20255.125256%20123.66377%20447.868789%20123.66377s360.594357-49.885385%20447.868788-123.66377v79.176804z%22%20p-id%3D%221720%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E);
			}


			.icon-menu-down {
				width: 20px; height: 20px;
				background-size: 100%;
				background-position: center top;
				background-repeat: no-repeat;
				float: left;
				margin-right: 10px;
				background-image: url(data:image/svg+xml,%3Csvg%20t%3D%221678433012645%22%20class%3D%22icon%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20p-id%3D%221117%22%20width%3D%22200%22%20height%3D%22200%22%3E%3Cpath%20d%3D%22M483.072%20714.496l30.165333%2030.20799999%20415.957334-415.82933299a42.837333%2042.837333%200%200%200%201e-8-60.288%2042.538667%2042.538667%200%200%200-60.33066701-0.042667l-355.541333%20355.413333-355.242667-355.413333a42.496%2042.496%200%200%200-60.288%200%2042.837333%2042.837333%200%200%200-0.085333%2060.33066699l383.701333%20383.87200002%201.706667%201.74933299z%22%20fill%3D%22%233D3D3D%22%20p-id%3D%221118%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E);
			}

			.menu-back {
				width: 14px;
				height: 14px;
				background-size: 100%;
				margin-right: 2px
			}

			.the-headline {
				font:bold 20pt Courier New,Helvetica,sansserif;
				font-weight: 600;
				padding: 15px 0;
				text-align: center;
				display: flex;
				justify-content: space-around;
			}







			/* 复制 */
			.icon-copy {
				width: 20px; height: 20px;
				background-size: 100%;
				background-position: center top;
				background-repeat: no-repeat;
				float: left;
				margin-right: 10px;
				background-image: url(data:image/svg+xml,%3Csvg%20t%3D%221678947012049%22%20class%3D%22icon%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20p-id%3D%221000%22%20width%3D%22200%22%20height%3D%22200%22%3E%3Cpath%20d%3D%22M394.666667%20106.666667h448a74.666667%2074.666667%200%200%201%2074.666666%2074.666666v448a74.666667%2074.666667%200%200%201-74.666666%2074.666667H394.666667a74.666667%2074.666667%200%200%201-74.666667-74.666667V181.333333a74.666667%2074.666667%200%200%201%2074.666667-74.666666z%20m0%2064a10.666667%2010.666667%200%200%200-10.666667%2010.666666v448a10.666667%2010.666667%200%200%200%2010.666667%2010.666667h448a10.666667%2010.666667%200%200%200%2010.666666-10.666667V181.333333a10.666667%2010.666667%200%200%200-10.666666-10.666666H394.666667z%20m245.333333%20597.333333a32%2032%200%200%201%2064%200v74.666667a74.666667%2074.666667%200%200%201-74.666667%2074.666666H181.333333a74.666667%2074.666667%200%200%201-74.666666-74.666666V394.666667a74.666667%2074.666667%200%200%201%2074.666666-74.666667h74.666667a32%2032%200%200%201%200%2064h-74.666667a10.666667%2010.666667%200%200%200-10.666666%2010.666667v448a10.666667%2010.666667%200%200%200%2010.666666%2010.666666h448a10.666667%2010.666667%200%200%200%2010.666667-10.666666v-74.666667z%22%20fill%3D%22%23000000%22%20p-id%3D%221001%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E);
				opacity: 0.4;
			}

			.icon-copy:hover, .icon-copy:focus {
				opacity: 1;
			}

			.copied {
				margin:auto;
				position: relative;
				float: right;
				line-height: 24px;
				border-radius: 4px;
				color: #fff;
				cursor: pointer;
			}

			.the-copy {
				float: right;
				display: flex;
			}

			.detail-text-get {
				font-size:12.5px;
				max-width: calc( 100% - 23px);
				width: calc( 100% - 23px);
				max-height:85vh;
				overflow:auto
			}
			#detail-text-copy-transfer {
			position: absolute;
			top: 0;
			left: 0;
			opacity: 0;
			z-index: -10;
		    }


		/* 复制 dialog */
		.copy-hint {
			position: fixed;
			top: 25%;
			left: 50%;
			z-index: 99;
			width: 77px;
			min-height: 25px;
			padding: 22px;
			text-align: center;
			border-radius: 5px;
			box-shadow: 0 3px 10px rgba(0,0,0,.3);
		}
		.copy-hint span {
			display: inline-block;
			line-height: 24px;
			vertical-align: middle;
			overflow: hidden;
			word-wrap: break-word;
			word-break: break-all;
			font-size: 18px;
			color: #ffffff;
		}
		.copy-hint::after {
			content: "";
			display: inline-block;
			height: 48px;
			vertical-align: middle;
		}

		.copy-suc {
			display:none;
			background-color: rgba(47,183,70,.95);
		}
		@-webkit-keyframes copy-success {
			0% {
				width:0
			}
			100% {
				width:10px
			}
		}

		.detail_text_header{
			white-space: pre-wrap;
			font-size:13px;
		}
		.gotodisk {
			text-decoration: none;
			font-weight: bold;
			color: #F17B15;
		}
		.gotodisk:hover {
			color: #ff7600;
		}
		</style>


		<script type="text/javascript">
		window.onload = function () {
			var content = document.getElementById("foldtable");
			content.onclick = function() { onTableClick() };

			function onTableClick(){
				var normal_list = document.getElementsByClassName("NORMAL");
				if (normal_list[0].style.display == "" ||  normal_list[0].style.display == "none") {
					for(var i=0; i < normal_list.length; i++){
						normal_list[i].style.display = "table-row";
						content.innerHTML = "<a href=#the_top class=table_foldbtn>折叠</a>";
					}
				} else if (normal_list[0].style.display == "table-row"){
					for(var i=0; i < normal_list.length; i++){
						normal_list[i].style.display = "none";
						content.innerHTML = "展开";
					}
				}
			}
		}




		function copyText(text_id, textarea_id) {
			var text = document.getElementById(text_id).innerText;
			var input = document.getElementById(textarea_id);
			input.value = text;
			input.select();
			document.execCommand("copy");

			var obj = document.getElementById("copy-success");
			obj.style.display = "block";
			setTimeout(function(){
				obj.style.display = "none";
			},500);
		}

        function changeLink(aim) {
            var newUrl = aim;
            document.getElementById("backLink").href = newUrl;

        }



		</script>

		</head>
		<body>

		<head>
		<style>
		.menu-item>input#menu-OS-Checklist:checked~.menu-content {
			height: calc(14 * 40px);
		}

		.menu-item>input#menu-DB-Checklist:checked~.menu-content {
			height: calc(55 * 40px);
		}
		</style>
		</head>

		<div class="main-content">
		<div class="menu-box">
		<input type="checkbox" id="menu-btn">

		<div class="menu">
		<div class="menu-title">Vastbase G100</div>

		<div class=menu-item>
		<input type=checkbox id=menu-OS-CHECKLIST>
		<label for=menu-OS-CHECKLIST>
		<i class='icon-OS-CHECKLIST menu-item-icon'></i>
		<span class=one-level-span>OS CHECKLIST</span>
		<i class=icon-menu-down menu-item-last></i>
		</label>
		<div class=menu-content>
		
<span><a href='#kernel_para' class='menu_href'>内核参数配置</a></span>
<span><a href='#resource_limits' class='menu_href'>资源限制配置</a></span>
<span><a href='#selinux' class='menu_href'>selinux配置</a></span>
<span><a href='#transparent_hugepage' class='menu_href'>透明大页配置</a></span>
<span><a href='#hugepage' class='menu_href'>标准大页配置</a></span>
<span><a href='#cpu' class='menu_href'>cpu使用率</a></span>
<span><a href='#mem_info' class='menu_href'>内存使用情况</a></span>
<span><a href='#disk' class='menu_href'>硬盘使用情况</a></span>
<span><a href='#net' class='menu_href'>网络IO</a></span>
<span><a href='#crontab' class='menu_href'>定时任务</a></span>
<span><a href='#reboot' class='menu_href'>主机重启时间</a></span>
<span><a href='#syslog' class='menu_href'>系统日志异常</a></span>
<span><a href='#cpu_info' class='menu_href'>CPU架构</a></span>
<span><a href='#os_user_expire' class='menu_href'>OS用户密码过期检查</a></span>
</div></div>

		<div class=menu-item>
		<input type=checkbox id=menu-DB-CHECKLIST>
		<label for=menu-DB-CHECKLIST>
		<i class='icon-DB-CHECKLIST menu-item-icon'></i>
		<span class=one-level-span>DB CHECKLIST</span>
		<i class=icon-menu-down menu-item-last></i>
		</label>
		<div class=menu-content>
		
<span><a href='#sync_exception' class='menu_href'>同步异常检查</a></span>
<span><a href='#sync_latency' class='menu_href'>同步延迟检查</a></span>
<span><a href='#switchover_time' class='menu_href'>近期切换检查</a></span>
<span><a href='#repl_slot' class='menu_href'>复制槽异常检查</a></span>
<span><a href='#has_log' class='menu_href'>近期HAS日志检查</a></span>
<span><a href='#has_lib_check' class='menu_href'>HAS依赖检查</a></span>
<span><a href='#dcs_log' class='menu_href'>近期DCS日志检查</a></span>
<span><a href='#db_version' class='menu_href'>数据库版本信息检查</a></span>
<span><a href='#db_info' class='menu_href'>数据库信息检查</a></span>
<span><a href='#db_instance' class='menu_href'>实例状态检查</a></span>
<span><a href='#db_conn' class='menu_href'>数据库连接检查</a></span>
<span><a href='#db_backup' class='menu_href'>备份状态检查</a></span>
<span><a href='#db_archive' class='menu_href'>归档状态检查</a></span>
<span><a href='#db_total_memory' class='menu_href'>数据库内存检查</a></span>
<span><a href='#db_memory_transaction' class='menu_href'>超200M会话检查</a></span>
<span><a href='#session_memory_larger_than_1G' class='menu_href'>数据库进程检查</a></span>
<span><a href='#recent_db_log' class='menu_href'>近期数据库日志检查</a></span>
<span><a href='#cache_hit' class='menu_href'>缓存命中率检查</a></span>
<span><a href='#db_extension' class='menu_href'>插件检查</a></span>
<span><a href='#db_long_tranction' class='menu_href'>长事务检查</a></span>
<span><a href='#db_slow_sql' class='menu_href'>慢SQL检查</a></span>
<span><a href='#db_config' class='menu_href'>配置文件检查</a></span>
<span><a href='#db_role_setting' class='menu_href'>定制参数检查</a></span>
<span><a href='#db_conn_param' class='menu_href'>连接参数检查</a></span>
<span><a href='#db_mem_param' class='menu_href'>内存参数检查</a></span>
<span><a href='#db_xlog_param' class='menu_href'>xlog参数检查</a></span>
<span><a href='#db_passwd_param' class='menu_href'>密码参数检查</a></span>
<span><a href='#db_autoacuum_param' class='menu_href'>autovacuum参数检查</a></span>
<span><a href='#db_query_dop' class='menu_href'>并行参数检查</a></span>
<span><a href='#db_log_param' class='menu_href'>log参数检查</a></span>
<span><a href='#db_temp_file_limit' class='menu_href'>临时文件参数检查</a></span>
<span><a href='#db_databases_size' class='menu_href'>数据库容量检查</a></span>
<span><a href='#db_table_fragment' class='menu_href'>表碎片检查</a></span>
<span><a href='#db_idx_fragment' class='menu_href'>索引碎片检查</a></span>
<span><a href='#db_xlog_check' class='menu_href'>xlog日志检查</a></span>
<span><a href='#db_xlog_total_size' class='menu_href'>xlog日志总大小检查</a></span>
<span><a href='#db_log_dir_usage' class='menu_href'>日志目录使用率过高检查</a></span>
<span><a href='#db_tbs_usage_rate' class='menu_href'>表空间使用率过高检查</a></span>
<span><a href='#db_dir_usage_rate' class='menu_href'>数据库目录使用过高检查</a></span>
<span><a href='#backup_dir_usage' class='menu_href'>备份目录使用率过高检查</a></span>
<span><a href='#file_count' class='menu_href'>文件数检查</a></span>
<span><a href='#oom_risk_check' class='menu_href'>OOM风险检查</a></span>
<span><a href='#keyword_obj' class='menu_href'>关键字对象名检查</a></span>
<span><a href='#statistical_info' class='menu_href'>统计信息检查</a></span>
<span><a href='#language_env' class='menu_href'>语言环境检查</a></span>
<span><a href='#db_passwd_check' class='menu_href'>数据库用户密码过期检查</a></span>
<span><a href='#db_superuser_auth_check' class='menu_href'>业务账号权限检查</a></span>
<span><a href='#db_sql_inject_check' class='menu_href'>SQL注入风险检查</a></span>
<span><a href='#db_unused_idx_check' class='menu_href'>未使用索引检查</a></span>
<span><a href='#db_license_check' class='menu_href'>数据库LICENSE检查</a></span>
<span><a href='#drop_column' class='menu_href'>删除字段检查</a></span>
<span><a href='#before_row_update' class='menu_href'>触发器检查</a></span>
<span><a href='#virtual_column' class='menu_href'>虚拟列检查</a></span>
<span><a href='#insert_and_merge' class='menu_href'>版本漏洞检查</a></span>
</div></div>

		</div>
		</div>
<main class="content-box"><div id="the_top"></div>

		<div class='the-headline' style='font-size: 38px;'>Vastbase G100 巡检报告</div>
		<div class='the-headline' style='font-size: 18px;'>巡检时间: 2024-04-23 16:16:42</div>
<a href=#db_server class=scroll_to_top></a>
<h2 id=巡检环境基本信息>巡检环境基本信息</h2>
<table border=1 id=importance_info>
<tr><td>OS HOSTNAME</td><td><div class="detail_text_header">hldb</div></td></tr>
<tr><td>OS VERSION</td><td><div class="detail_text_header">"UnionTech OS Server 20"</div></td></tr>
<tr><td>CPU INFO</td><td><div class="detail_text_header">Architecture:                    aarch64
CPU op-mode(s):                  64-bit
Model name:                      Kunpeng-920</div></td></tr>
<tr><td>IP ADDRESS</td><td><div class="detail_text_header">200.100.250.185</div></td></tr>
<tr><td>DB CLUSTER</td><td><div class="detail_text_header">false</div></td></tr>
<tr><td>DB VERSION</td><td><div class="detail_text_header">(VastbaseG100V2.2(Build10)Release)compiledat2023-06-0812:32:37commit13573lastmronaarch64-unknown-linux-gnu,compiledbyg++(GCC)7.3.0,64-bit</div></td></tr>
<tr><td>OS LAST RESTART</td><td><div class="detail_text_header">2023-11-03 16:56:51</div></td></tr>
<tr><td>DB LAST RESTART</td><td><div class="detail_text_header"> 2024-02-18 12:05:41.426233+08</div></td></tr>
<tr><td>OS USER EXPIRE TIME</td><td><div class="detail_text_header">Last password change					: Sep 08, 2023
Password expires					: never
Password inactive					: never
Account expires						: never
Minimum number of days between password change		: 0
Maximum number of days between password change		: 99999
Number of days of warning before password expires	: 7</div></td></tr>
</table></br>
<h2 id=巡检结果列表>巡检结果列表</h2>
<div id='db_server' style='transition: height 0.2s;'>
<table border=1 id=result_info>
<tr style='height: 28px'><th style='background: #F88825'>Number</th><th style='background: #F88825'>Status</th><th style='background: #F88825'>Type</th><th style='background: #F88825'>Message</th><th style='background: #F88825'>Details</th></tr>
<tr class=FATAL><td width=25px style='text-align: center'>1</td><td width=60px style='text-align: center'><div style='color: red;font-weight: bold'>FATAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>归档状态检查</td><td style='text-align: center'><a href='#db_archive'>View</a></td></tr>
<tr class=FATAL><td width=25px style='text-align: center'>2</td><td width=60px style='text-align: center'><div style='color: red;font-weight: bold'>FATAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>备份状态检查</td><td style='text-align: center'><a href='#db_backup'>View</a></td></tr>
<tr class=FATAL><td width=25px style='text-align: center'>3</td><td width=60px style='text-align: center'><div style='color: red;font-weight: bold'>FATAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>版本漏洞检查</td><td style='text-align: center'><a href='#insert_and_merge'>View</a></td></tr>
<tr class=FATAL><td width =25px style='text-align: center'>4</td><td width=60px style='text-align: center'><div style='color: red;font-weight: bold'>FATAL</div></td><td width=90px style='text-align: center'>OS Check</td><td width=280px>透明大页配置</td><td style='text-align: center'><a href='#transparent_hugepage'>View</a></td></tr>
<tr class=WARNING><td width=25px style='text-align: center'>5</td><td width=60px style='text-align: center'><div style='color: orange'>WARNING</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>内存参数检查</td><td style='text-align: center'><a href='#db_mem_param'>View</a></td></tr>
<tr class=WARNING><td width=25px style='text-align: center'>6</td><td width=60px style='text-align: center'><div style='color: orange'>WARNING</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>密码参数检查</td><td style='text-align: center'><a href='#db_passwd_param'>View</a></td></tr>
<tr class=WARNING><td width=25px style='text-align: center'>7</td><td width=60px style='text-align: center'><div style='color: orange'>WARNING</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>慢SQL检查</td><td style='text-align: center'><a href='#db_slow_sql'>View</a></td></tr>
<tr class=WARNING><td width=25px style='text-align: center'>8</td><td width=60px style='text-align: center'><div style='color: orange'>WARNING</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>xlog参数检查</td><td style='text-align: center'><a href='#db_xlog_param'>View</a></td></tr>
<tr class=WARNING><td width=25px style='text-align: center'>9</td><td width=60px style='text-align: center'><div style='color: orange'>WARNING</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>近期数据库日志检查</td><td style='text-align: center'><a href='#recent_db_log'>View</a></td></tr>
<tr class=WARNING><td width=25px style='text-align: center'>10</td><td width=60px style='text-align: center'><div style='color: orange'>WARNING</div></td><td width=90px style='text-align: center'>OS Check</td><td width=280px>系统日志异常</td><td style='text-align: center'><a href='#syslog'>View</a></td></tr>
<tr class=UNKOWN><td width=25px style='text-align: center'>11</td><td width=60px style='text-align: center'><div style='color: grey'>UNKOWN</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>近期DCS日志检查</td><td style='text-align: center'><a href='#dcs_log'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>12</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>备份目录使用率过高检查</td><td style='text-align: center'><a href='#backup_dir_usage'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>13</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>触发器检查</td><td style='text-align: center'><a href='#before_row_update'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>14</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>缓存命中率检查</td><td style='text-align: center'><a href='#cache_hit'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>15</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>OS Check</td><td width=280px>cpu使用率</td><td style='text-align: center'><a href='#cpu'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>16</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>OS Check</td><td width=280px>定时任务</td><td style='text-align: center'><a href='#crontab'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>17</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>autovacuum参数检查</td><td style='text-align: center'><a href='#db_autoacuum_param'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>18</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>连接参数检查</td><td style='text-align: center'><a href='#db_conn_param'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>19</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>数据库连接检查</td><td style='text-align: center'><a href='#db_conn'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>20</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>数据库目录使用过高检查</td><td style='text-align: center'><a href='#db_dir_usage_rate'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>21</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>插件检查</td><td style='text-align: center'><a href='#db_extension'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>22</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>索引碎片检查</td><td style='text-align: center'><a href='#db_idx_fragment'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>23</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>数据库LICENSE检查</td><td style='text-align: center'><a href='#db_license_check'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>24</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>日志目录使用率过高检查</td><td style='text-align: center'><a href='#db_log_dir_usage'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>25</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>log参数检查</td><td style='text-align: center'><a href='#db_log_param'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>26</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>长事务检查</td><td style='text-align: center'><a href='#db_long_tranction'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>27</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>超200M会话检查</td><td style='text-align: center'><a href='#db_memory_transaction'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>28</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>数据库用户密码过期检查</td><td style='text-align: center'><a href='#db_passwd_check'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>29</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>SQL注入风险检查</td><td style='text-align: center'><a href='#db_sql_inject_check'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>30</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>业务账号权限检查</td><td style='text-align: center'><a href='#db_superuser_auth_check'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>31</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>表碎片检查</td><td style='text-align: center'><a href='#db_table_fragment'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>32</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>表空间使用率过高检查</td><td style='text-align: center'><a href='#db_tbs_usage_rate'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>33</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>数据库内存检查</td><td style='text-align: center'><a href='#db_total_memory'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>34</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>未使用索引检查</td><td style='text-align: center'><a href='#db_unused_idx_check'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>35</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>xlog日志检查</td><td style='text-align: center'><a href='#db_xlog_check'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>36</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>OS Check</td><td width=280px>硬盘使用情况</td><td style='text-align: center'><a href='#disk'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>37</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>删除字段检查</td><td style='text-align: center'><a href='#drop_column'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>38</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>HAS依赖检查</td><td style='text-align: center'><a href='#has_lib_check'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>39</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>OS Check</td><td width=280px>标准大页配置</td><td style='text-align: center'><a href='#hugepage'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>40</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>OS Check</td><td width=280px>内核参数配置</td><td style='text-align: center'><a href='#kernel_para'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>41</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>关键字对象名检查</td><td style='text-align: center'><a href='#keyword_obj'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>42</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>语言环境检查</td><td style='text-align: center'><a href='#language_env'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>43</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>OS Check</td><td width=280px>内存使用情况</td><td style='text-align: center'><a href='#mem_info'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>44</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>OOM风险检查</td><td style='text-align: center'><a href='#oom_risk_check'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>45</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>OS Check</td><td width=280px>OS用户密码过期检查</td><td style='text-align: center'><a href='#os_user_expire'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>46</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>复制槽异常检查</td><td style='text-align: center'><a href='#repl_slot'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>47</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>OS Check</td><td width=280px>资源限制配置</td><td style='text-align: center'><a href='#resource_limits'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>48</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>OS Check</td><td width=280px>selinux配置</td><td style='text-align: center'><a href='#selinux'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>49</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>数据库进程检查</td><td style='text-align: center'><a href='#session_memory_larger_than_1G'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>50</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>统计信息检查</td><td style='text-align: center'><a href='#statistical_info'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>51</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>近期切换检查</td><td style='text-align: center'><a href='#switchover_time'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>52</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>同步异常检查</td><td style='text-align: center'><a href='#sync_exception'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>53</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>同步延迟检查</td><td style='text-align: center'><a href='#sync_latency'>View</a></td></tr>
<tr class=NORMAL><td width=25px style='text-align: center'>54</td><td width=60px style='text-align: center'><div style='color: green'>NORMAL</div></td><td width=90px style='text-align: center'>DB Check</td><td width=280px>虚拟列检查</td><td style='text-align: center'><a href='#virtual_column'>View</a></td></tr>
</table>
<div id='foldtable' class='foldbtn'>展开</div>
</div></br>
<h2 id=操作系统巡检项详情>操作系统巡检项详情</h2>
<h3 id=kernel_para>内核参数配置</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_kernel_para'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-kernel_para","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-kernel_para' class='detail-text-get'>swappiness=0
kernel_shmall=12364336
kernel_shmmax=54975528960


sysctl的结果如下：
crypto.fips_enabled = 0
debug.exception-trace = 0
dev.cdrom.autoclose = 1
dev.cdrom.autoeject = 0
dev.cdrom.check_media = 0
dev.cdrom.debug = 0
dev.cdrom.info = CD-ROM information, Id: cdrom.c 3.20 2003/12/17
dev.cdrom.info = 
dev.cdrom.info = drive name:		sr1	sr0
dev.cdrom.info = drive speed:		4	4
dev.cdrom.info = drive # of slots:	1	1
dev.cdrom.info = Can close tray:		1	1
dev.cdrom.info = Can open tray:		1	1
dev.cdrom.info = Can lock tray:		1	1
dev.cdrom.info = Can change speed:	1	1
dev.cdrom.info = Can select disk:	0	0
dev.cdrom.info = Can read multisession:	1	1
dev.cdrom.info = Can read MCN:		1	1
dev.cdrom.info = Reports media changed:	1	1
dev.cdrom.info = Can play audio:		1	1
dev.cdrom.info = Can write CD-R:		0	0
dev.cdrom.info = Can write CD-RW:	0	0
dev.cdrom.info = Can read DVD:		1	1
dev.cdrom.info = Can write DVD-R:	0	0
dev.cdrom.info = Can write DVD-RAM:	0	0
dev.cdrom.info = Can read MRW:		1	1
dev.cdrom.info = Can write MRW:		1	1
dev.cdrom.info = Can write RAM:		1	1
dev.cdrom.info = 
dev.cdrom.info = 
dev.cdrom.lock = 1
dev.raid.speed_limit_max = 200000
dev.raid.speed_limit_min = 1000
dev.scsi.logging_level = 0
dev.tty.ldisc_autoload = 1
fs.aio-max-nr = 1048576
fs.aio-nr = 0
fs.binfmt_misc.status = enabled
fs.dentry-state = 29062	24862	45	0	0	0
fs.dir-notify-enable = 1
fs.epoll.max_user_watches = 3138519
fs.file-max = 76724600
fs.file-nr = 3456	0	76724600
fs.inode-nr = 23986	5660
fs.inode-state = 23986	5660	0	0	0	0	0
fs.inotify.max_queued_events = 16384
fs.inotify.max_user_instances = 128
fs.inotify.max_user_watches = 8192
fs.lease-break-time = 45
fs.leases-enable = 1
fs.mount-max = 100000
fs.mqueue.msg_default = 10
fs.mqueue.msg_max = 10
fs.mqueue.msgsize_default = 8192
fs.mqueue.msgsize_max = 8192
fs.mqueue.queues_max = 256
fs.nfs.idmap_cache_timeout = 600
fs.nfs.nfs_callback_tcpport = 0
fs.nfs.nfs_congestion_kb = 262144
fs.nfs.nfs_mountpoint_timeout = 500
fs.nfs.nlm_grace_period = 0
fs.nfs.nlm_tcpport = 0
fs.nfs.nlm_timeout = 10
fs.nfs.nlm_udpport = 0
fs.nfs.nsm_local_state = 0
fs.nfs.nsm_use_hostnames = 0
fs.nr_open = 20480000
fs.overflowgid = 65534
fs.overflowuid = 65534
fs.pipe-max-size = 1048576
fs.pipe-user-pages-hard = 0
fs.pipe-user-pages-soft = 16384
fs.protected_fifos = 1
fs.protected_hardlinks = 1
fs.protected_regular = 1
fs.protected_symlinks = 1
fs.quota.allocated_dquots = 0
fs.quota.cache_hits = 0
fs.quota.drops = 0
fs.quota.free_dquots = 0
fs.quota.lookups = 0
fs.quota.reads = 0
fs.quota.syncs = 2
fs.quota.warnings = 1
fs.quota.writes = 0
fs.suid_dumpable = 0
fs.xfs.error_level = 3
fs.xfs.filestream_centisecs = 3000
fs.xfs.inherit_noatime = 1
fs.xfs.inherit_nodefrag = 1
fs.xfs.inherit_nodump = 1
fs.xfs.inherit_nosymlinks = 0
fs.xfs.inherit_sync = 1
fs.xfs.irix_sgid_inherit = 0
fs.xfs.irix_symlink_mode = 0
fs.xfs.panic_mask = 0
fs.xfs.rotorstep = 1
fs.xfs.speculative_cow_prealloc_lifetime = 1800
fs.xfs.speculative_prealloc_lifetime = 300
fs.xfs.stats_clear = 0
fs.xfs.xfssyncd_centisecs = 3000
fscache.object_max_active = 16
fscache.operation_max_active = 8
kernel.acct = 4	2	30
kernel.auto_msgmni = 0
kernel.cad_pid = 1
kernel.cap_last_cap = 37
kernel.core_pattern = |/usr/lib/systemd/systemd-coredump %P %u %g %s %t %c %h
kernel.core_pipe_limit = 16
kernel.core_uses_pid = 1
kernel.ctrl-alt-del = 0
kernel.dmesg_restrict = 1
kernel.domainname = (none)
kernel.hardlockup_all_cpu_backtrace = 0
kernel.hardlockup_panic = 1
kernel.hostname = hldb
kernel.hung_task_check_count = 4194304
kernel.hung_task_check_interval_secs = 0
kernel.hung_task_panic = 0
kernel.hung_task_timeout_secs = 120
kernel.hung_task_warnings = 10
kernel.kexec_load_disabled = 0
kernel.keys.gc_delay = 300
kernel.keys.maxbytes = 20000
kernel.keys.maxkeys = 200
kernel.keys.persistent_keyring_expiry = 259200
kernel.keys.root_maxbytes = 25000000
kernel.keys.root_maxkeys = 1000000
kernel.kptr_restrict = 0
kernel.max_lock_depth = 1024
kernel.modprobe = /sbin/modprobe
kernel.modules_disabled = 0
kernel.msg_next_id = -1
kernel.msgmax = 8192
kernel.msgmnb = 16384
kernel.msgmni = 32000
kernel.ngroups_max = 65536
kernel.nmi_watchdog = 0
kernel.ns_last_pid = 3221990
kernel.osrelease = 4.19.90-2109.1.0.0108.up2.uel20.aarch64
kernel.ostype = Linux
kernel.overflowgid = 65534
kernel.overflowuid = 65534
kernel.panic = 0
kernel.panic_on_oops = 1
kernel.panic_on_rcu_stall = 0
kernel.panic_on_warn = 0
kernel.panic_print = 0
kernel.perf_cpu_time_max_percent = 25
kernel.perf_event_max_contexts_per_stack = 8
kernel.perf_event_max_sample_rate = 100000
kernel.perf_event_max_stack = 127
kernel.perf_event_mlock_kb = 576
kernel.perf_event_paranoid = 2
kernel.pid_max = 4194304
kernel.poweroff_cmd = /sbin/poweroff
kernel.print-fatal-signals = 0
kernel.printk = 7	4	1	7
kernel.printk_delay = 0
kernel.printk_devkmsg = ratelimit
kernel.printk_ratelimit = 5
kernel.printk_ratelimit_burst = 10
kernel.pty.max = 4096
kernel.pty.nr = 0
kernel.pty.reserve = 1024
kernel.random.boot_id = a9053c1e-bb1e-4ad0-a591-9a70473850f0
kernel.random.entropy_avail = 3223
kernel.random.poolsize = 4096
kernel.random.read_wakeup_threshold = 64
kernel.random.urandom_min_reseed_secs = 60
kernel.random.uuid = 9248e7bd-9c12-4cff-bbc1-dc1f1df33026
kernel.random.write_wakeup_threshold = 3072
kernel.randomize_va_space = 2
kernel.real-root-dev = 0
kernel.sched_autogroup_enabled = 0
kernel.sched_cfs_bandwidth_slice_us = 5000
kernel.sched_child_runs_first = 0
kernel.sched_rr_timeslice_ms = 100
kernel.sched_rt_period_us = 1000000
kernel.sched_rt_runtime_us = 950000
kernel.seccomp.actions_avail = kill_process kill_thread trap errno trace log allow
kernel.seccomp.actions_logged = kill_process kill_thread trap errno trace log
kernel.sem = 4096	2147483647	2147483646	512000
kernel.sem_next_id = -1
kernel.shm_next_id = -1
kernel.shm_rmid_forced = 0
kernel.shmall = 12364336
kernel.shmmax = 54975528960
kernel.shmmni = 819200
kernel.soft_watchdog = 1
kernel.softlockup_all_cpu_backtrace = 0
kernel.softlockup_panic = 0
kernel.sysctl_writes_strict = 1
kernel.sysrq = 0
kernel.tainted = 0
kernel.threads-max = 115639
kernel.timer_migration = 1
kernel.uce_kernel_recovery = 0
kernel.unprivileged_bpf_disabled = 0
kernel.usermodehelper.bset = 4294967295	63
kernel.usermodehelper.inheritable = 4294967295	63
kernel.usermodhelper_affinity = 0
kernel.version = #1 SMP Wed Oct 13 06:38:27 UTC 2021
kernel.watchdog = 1
kernel.watchdog_cpumask = 0-15
kernel.watchdog_thresh = 10
kernel.yama.ptrace_scope = 0
net.core.bpf_jit_enable = 1
net.core.bpf_jit_harden = 0
net.core.bpf_jit_kallsyms = 0
net.core.bpf_jit_limit = 33554432
net.core.busy_poll = 0
net.core.busy_read = 100
net.core.default_qdisc = fq_codel
net.core.dev_weight = 64
net.core.dev_weight_rx_bias = 1
net.core.dev_weight_tx_bias = 1
net.core.fb_tunnels_only_for_init_net = 0
net.core.flow_limit_cpu_bitmap = 0000
net.core.flow_limit_table_len = 4096
net.core.max_skb_frags = 16
net.core.message_burst = 10
net.core.message_cost = 5
net.core.netdev_budget = 300
net.core.netdev_budget_usecs = 8000
net.core.netdev_max_backlog = 65535
net.core.netdev_rss_key = 00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00
net.core.netdev_tstamp_prequeue = 1
net.core.optmem_max = 81920
net.core.rmem_default = 21299200
net.core.rmem_max = 21299200
net.core.rps_sock_flow_entries = 0
net.core.somaxconn = 65535
net.core.tstamp_allow_data = 1
net.core.warnings = 0
net.core.wmem_default = 21299200
net.core.wmem_max = 21299200
net.core.xfrm_acq_expires = 30
net.core.xfrm_aevent_etime = 10
net.core.xfrm_aevent_rseqth = 2
net.core.xfrm_larval_drop = 1
net.ipv4.cipso_cache_bucket_size = 10
net.ipv4.cipso_cache_enable = 1
net.ipv4.cipso_rbm_optfmt = 0
net.ipv4.cipso_rbm_strictvalid = 1
net.ipv4.conf.all.accept_local = 0
net.ipv4.conf.all.accept_redirects = 0
net.ipv4.conf.all.accept_source_route = 0
net.ipv4.conf.all.arp_accept = 0
net.ipv4.conf.all.arp_announce = 0
net.ipv4.conf.all.arp_filter = 0
net.ipv4.conf.all.arp_ignore = 0
net.ipv4.conf.all.arp_notify = 0
net.ipv4.conf.all.bc_forwarding = 0
net.ipv4.conf.all.bootp_relay = 0
net.ipv4.conf.all.disable_policy = 0
net.ipv4.conf.all.disable_xfrm = 0
net.ipv4.conf.all.drop_gratuitous_arp = 0
net.ipv4.conf.all.drop_unicast_in_l2_multicast = 0
net.ipv4.conf.all.force_igmp_version = 0
net.ipv4.conf.all.forwarding = 0
net.ipv4.conf.all.igmpv2_unsolicited_report_interval = 10000
net.ipv4.conf.all.igmpv3_unsolicited_report_interval = 1000
net.ipv4.conf.all.ignore_routes_with_linkdown = 0
net.ipv4.conf.all.log_martians = 0
net.ipv4.conf.all.mc_forwarding = 0
net.ipv4.conf.all.medium_id = 0
net.ipv4.conf.all.promote_secondaries = 1
net.ipv4.conf.all.proxy_arp = 0
net.ipv4.conf.all.proxy_arp_pvlan = 0
net.ipv4.conf.all.route_localnet = 0
net.ipv4.conf.all.rp_filter = 1
net.ipv4.conf.all.secure_redirects = 0
net.ipv4.conf.all.send_redirects = 0
net.ipv4.conf.all.shared_media = 1
net.ipv4.conf.all.src_valid_mark = 0
net.ipv4.conf.all.tag = 0
net.ipv4.conf.default.accept_local = 0
net.ipv4.conf.default.accept_redirects = 0
net.ipv4.conf.default.accept_source_route = 0
net.ipv4.conf.default.arp_accept = 0
net.ipv4.conf.default.arp_announce = 0
net.ipv4.conf.default.arp_filter = 0
net.ipv4.conf.default.arp_ignore = 0
net.ipv4.conf.default.arp_notify = 0
net.ipv4.conf.default.bc_forwarding = 0
net.ipv4.conf.default.bootp_relay = 0
net.ipv4.conf.default.disable_policy = 0
net.ipv4.conf.default.disable_xfrm = 0
net.ipv4.conf.default.drop_gratuitous_arp = 0
net.ipv4.conf.default.drop_unicast_in_l2_multicast = 0
net.ipv4.conf.default.force_igmp_version = 0
net.ipv4.conf.default.forwarding = 0
net.ipv4.conf.default.igmpv2_unsolicited_report_interval = 10000
net.ipv4.conf.default.igmpv3_unsolicited_report_interval = 1000
net.ipv4.conf.default.ignore_routes_with_linkdown = 0
net.ipv4.conf.default.log_martians = 0
net.ipv4.conf.default.mc_forwarding = 0
net.ipv4.conf.default.medium_id = 0
net.ipv4.conf.default.promote_secondaries = 0
net.ipv4.conf.default.proxy_arp = 0
net.ipv4.conf.default.proxy_arp_pvlan = 0
net.ipv4.conf.default.route_localnet = 0
net.ipv4.conf.default.rp_filter = 1
net.ipv4.conf.default.secure_redirects = 0
net.ipv4.conf.default.send_redirects = 0
net.ipv4.conf.default.shared_media = 1
net.ipv4.conf.default.src_valid_mark = 0
net.ipv4.conf.default.tag = 0
net.ipv4.conf.enp3s0.accept_local = 0
net.ipv4.conf.enp3s0.accept_redirects = 0
net.ipv4.conf.enp3s0.accept_source_route = 0
net.ipv4.conf.enp3s0.arp_accept = 0
net.ipv4.conf.enp3s0.arp_announce = 0
net.ipv4.conf.enp3s0.arp_filter = 0
net.ipv4.conf.enp3s0.arp_ignore = 0
net.ipv4.conf.enp3s0.arp_notify = 0
net.ipv4.conf.enp3s0.bc_forwarding = 0
net.ipv4.conf.enp3s0.bootp_relay = 0
net.ipv4.conf.enp3s0.disable_policy = 0
net.ipv4.conf.enp3s0.disable_xfrm = 0
net.ipv4.conf.enp3s0.drop_gratuitous_arp = 0
net.ipv4.conf.enp3s0.drop_unicast_in_l2_multicast = 0
net.ipv4.conf.enp3s0.force_igmp_version = 0
net.ipv4.conf.enp3s0.forwarding = 0
net.ipv4.conf.enp3s0.igmpv2_unsolicited_report_interval = 10000
net.ipv4.conf.enp3s0.igmpv3_unsolicited_report_interval = 1000
net.ipv4.conf.enp3s0.ignore_routes_with_linkdown = 0
net.ipv4.conf.enp3s0.log_martians = 0
net.ipv4.conf.enp3s0.mc_forwarding = 0
net.ipv4.conf.enp3s0.medium_id = 0
net.ipv4.conf.enp3s0.promote_secondaries = 0
net.ipv4.conf.enp3s0.proxy_arp = 0
net.ipv4.conf.enp3s0.proxy_arp_pvlan = 0
net.ipv4.conf.enp3s0.route_localnet = 0
net.ipv4.conf.enp3s0.rp_filter = 1
net.ipv4.conf.enp3s0.secure_redirects = 0
net.ipv4.conf.enp3s0.send_redirects = 0
net.ipv4.conf.enp3s0.shared_media = 1
net.ipv4.conf.enp3s0.src_valid_mark = 0
net.ipv4.conf.enp3s0.tag = 0
net.ipv4.conf.lo.accept_local = 0
net.ipv4.conf.lo.accept_redirects = 1
net.ipv4.conf.lo.accept_source_route = 1
net.ipv4.conf.lo.arp_accept = 0
net.ipv4.conf.lo.arp_announce = 0
net.ipv4.conf.lo.arp_filter = 0
net.ipv4.conf.lo.arp_ignore = 0
net.ipv4.conf.lo.arp_notify = 0
net.ipv4.conf.lo.bc_forwarding = 0
net.ipv4.conf.lo.bootp_relay = 0
net.ipv4.conf.lo.disable_policy = 1
net.ipv4.conf.lo.disable_xfrm = 1
net.ipv4.conf.lo.drop_gratuitous_arp = 0
net.ipv4.conf.lo.drop_unicast_in_l2_multicast = 0
net.ipv4.conf.lo.force_igmp_version = 0
net.ipv4.conf.lo.forwarding = 0
net.ipv4.conf.lo.igmpv2_unsolicited_report_interval = 10000
net.ipv4.conf.lo.igmpv3_unsolicited_report_interval = 1000
net.ipv4.conf.lo.ignore_routes_with_linkdown = 0
net.ipv4.conf.lo.log_martians = 0
net.ipv4.conf.lo.mc_forwarding = 0
net.ipv4.conf.lo.medium_id = 0
net.ipv4.conf.lo.promote_secondaries = 0
net.ipv4.conf.lo.proxy_arp = 0
net.ipv4.conf.lo.proxy_arp_pvlan = 0
net.ipv4.conf.lo.route_localnet = 0
net.ipv4.conf.lo.rp_filter = 0
net.ipv4.conf.lo.secure_redirects = 1
net.ipv4.conf.lo.send_redirects = 1
net.ipv4.conf.lo.shared_media = 1
net.ipv4.conf.lo.src_valid_mark = 0
net.ipv4.conf.lo.tag = 0
net.ipv4.fib_multipath_hash_policy = 0
net.ipv4.fib_multipath_use_neigh = 0
net.ipv4.fwmark_reflect = 0
net.ipv4.icmp_echo_ignore_all = 0
net.ipv4.icmp_echo_ignore_broadcasts = 1
net.ipv4.icmp_errors_use_inbound_ifaddr = 0
net.ipv4.icmp_ignore_bogus_error_responses = 1
net.ipv4.icmp_msgs_burst = 50
net.ipv4.icmp_msgs_per_sec = 1000
net.ipv4.icmp_ratelimit = 1000
net.ipv4.icmp_ratemask = 6168
net.ipv4.icmp_timestamp_enable = 1
net.ipv4.igmp_link_local_mcast_reports = 1
net.ipv4.igmp_max_memberships = 20
net.ipv4.igmp_max_msf = 10
net.ipv4.igmp_qrv = 2
net.ipv4.inet_peer_maxttl = 600
net.ipv4.inet_peer_minttl = 120
net.ipv4.inet_peer_threshold = 65664
net.ipv4.ip_default_ttl = 64
net.ipv4.ip_dynaddr = 0
net.ipv4.ip_early_demux = 1
net.ipv4.ip_forward = 0
net.ipv4.ip_forward_update_priority = 1
net.ipv4.ip_forward_use_pmtu = 0
net.ipv4.ip_local_port_range = 40000	65535
net.ipv4.ip_local_reserved_ports = 
net.ipv4.ip_no_pmtu_disc = 0
net.ipv4.ip_nonlocal_bind = 0
net.ipv4.ip_unprivileged_port_start = 1024
net.ipv4.ipfrag_high_thresh = 4194304
net.ipv4.ipfrag_low_thresh = 3145728
net.ipv4.ipfrag_max_dist = 64
net.ipv4.ipfrag_secret_interval = 0
net.ipv4.ipfrag_time = 30
net.ipv4.neigh.default.anycast_delay = 100
net.ipv4.neigh.default.app_solicit = 0
net.ipv4.neigh.default.base_reachable_time_ms = 30000
net.ipv4.neigh.default.delay_first_probe_time = 5
net.ipv4.neigh.default.gc_interval = 30
net.ipv4.neigh.default.gc_stale_time = 60
net.ipv4.neigh.default.gc_thresh1 = 128
net.ipv4.neigh.default.gc_thresh2 = 512
net.ipv4.neigh.default.gc_thresh3 = 1024
net.ipv4.neigh.default.locktime = 100
net.ipv4.neigh.default.mcast_resolicit = 0
net.ipv4.neigh.default.mcast_solicit = 3
net.ipv4.neigh.default.proxy_delay = 80
net.ipv4.neigh.default.proxy_qlen = 64
net.ipv4.neigh.default.retrans_time_ms = 1000
net.ipv4.neigh.default.ucast_solicit = 3
net.ipv4.neigh.default.unres_qlen = 101
net.ipv4.neigh.default.unres_qlen_bytes = 212992
net.ipv4.neigh.enp3s0.anycast_delay = 100
net.ipv4.neigh.enp3s0.app_solicit = 0
net.ipv4.neigh.enp3s0.base_reachable_time_ms = 30000
net.ipv4.neigh.enp3s0.delay_first_probe_time = 5
net.ipv4.neigh.enp3s0.gc_stale_time = 60
net.ipv4.neigh.enp3s0.locktime = 100
net.ipv4.neigh.enp3s0.mcast_resolicit = 0
net.ipv4.neigh.enp3s0.mcast_solicit = 3
net.ipv4.neigh.enp3s0.proxy_delay = 80
net.ipv4.neigh.enp3s0.proxy_qlen = 64
net.ipv4.neigh.enp3s0.retrans_time_ms = 1000
net.ipv4.neigh.enp3s0.ucast_solicit = 3
net.ipv4.neigh.enp3s0.unres_qlen = 101
net.ipv4.neigh.enp3s0.unres_qlen_bytes = 212992
net.ipv4.neigh.lo.anycast_delay = 100
net.ipv4.neigh.lo.app_solicit = 0
net.ipv4.neigh.lo.base_reachable_time_ms = 30000
net.ipv4.neigh.lo.delay_first_probe_time = 5
net.ipv4.neigh.lo.gc_stale_time = 60
net.ipv4.neigh.lo.locktime = 100
net.ipv4.neigh.lo.mcast_resolicit = 0
net.ipv4.neigh.lo.mcast_solicit = 3
net.ipv4.neigh.lo.proxy_delay = 80
net.ipv4.neigh.lo.proxy_qlen = 64
net.ipv4.neigh.lo.retrans_time_ms = 1000
net.ipv4.neigh.lo.ucast_solicit = 3
net.ipv4.neigh.lo.unres_qlen = 101
net.ipv4.neigh.lo.unres_qlen_bytes = 212992
net.ipv4.ping_group_range = 1	0
net.ipv4.raw_l3mdev_accept = 1
net.ipv4.route.error_burst = 1250
net.ipv4.route.error_cost = 250
net.ipv4.route.gc_elasticity = 8
net.ipv4.route.gc_interval = 60
net.ipv4.route.gc_min_interval = 0
net.ipv4.route.gc_min_interval_ms = 500
net.ipv4.route.gc_thresh = -1
net.ipv4.route.gc_timeout = 300
net.ipv4.route.max_size = 2147483647
net.ipv4.route.min_adv_mss = 256
net.ipv4.route.min_pmtu = 552
net.ipv4.route.mtu_expires = 600
net.ipv4.route.redirect_load = 5
net.ipv4.route.redirect_number = 9
net.ipv4.route.redirect_silence = 5120
net.ipv4.tcp_abort_on_overflow = 0
net.ipv4.tcp_adv_win_scale = 1
net.ipv4.tcp_allowed_congestion_control = reno cubic
net.ipv4.tcp_app_win = 31
net.ipv4.tcp_autocorking = 1
net.ipv4.tcp_available_congestion_control = reno cubic
net.ipv4.tcp_available_ulp = 
net.ipv4.tcp_base_mss = 1024
net.ipv4.tcp_challenge_ack_limit = 1000
net.ipv4.tcp_comp_sack_delay_ns = 1000000
net.ipv4.tcp_comp_sack_nr = 44
net.ipv4.tcp_compression_local = 0
net.ipv4.tcp_compression_ports = 
net.ipv4.tcp_congestion_control = cubic
net.ipv4.tcp_dsack = 1
net.ipv4.tcp_early_demux = 1
net.ipv4.tcp_early_retrans = 3
net.ipv4.tcp_ecn = 2
net.ipv4.tcp_ecn_fallback = 1
net.ipv4.tcp_fack = 0
net.ipv4.tcp_fastopen = 1
net.ipv4.tcp_fastopen_blackhole_timeout_sec = 3600
net.ipv4.tcp_fastopen_key = 00000000-00000000-00000000-00000000
net.ipv4.tcp_fin_timeout = 5
net.ipv4.tcp_frto = 2
net.ipv4.tcp_fwmark_accept = 0
net.ipv4.tcp_invalid_ratelimit = 500
net.ipv4.tcp_keepalive_intvl = 30
net.ipv4.tcp_keepalive_probes = 9
net.ipv4.tcp_keepalive_time = 30
net.ipv4.tcp_l3mdev_accept = 0
net.ipv4.tcp_limit_output_bytes = 262144
net.ipv4.tcp_low_latency = 0
net.ipv4.tcp_max_orphans = 65536
net.ipv4.tcp_max_reordering = 300
net.ipv4.tcp_max_syn_backlog = 65535
net.ipv4.tcp_max_tw_buckets = 10000
net.ipv4.tcp_mem = 362715	483620	725430
net.ipv4.tcp_min_rtt_wlen = 300
net.ipv4.tcp_min_snd_mss = 48
net.ipv4.tcp_min_tso_segs = 2
net.ipv4.tcp_moderate_rcvbuf = 1
net.ipv4.tcp_mtu_probing = 0
net.ipv4.tcp_no_metrics_save = 0
net.ipv4.tcp_notsent_lowat = 4294967295
net.ipv4.tcp_orphan_retries = 0
net.ipv4.tcp_pacing_ca_ratio = 120
net.ipv4.tcp_pacing_ss_ratio = 200
net.ipv4.tcp_probe_interval = 600
net.ipv4.tcp_probe_threshold = 8
net.ipv4.tcp_recovery = 1
net.ipv4.tcp_reordering = 3
net.ipv4.tcp_retrans_collapse = 1
net.ipv4.tcp_retries1 = 5
net.ipv4.tcp_retries2 = 80
net.ipv4.tcp_rfc1337 = 0
net.ipv4.tcp_rmem = 8192	250000	16777216
net.ipv4.tcp_sack = 1
net.ipv4.tcp_slow_start_after_idle = 1
net.ipv4.tcp_stdurg = 0
net.ipv4.tcp_syn_retries = 5
net.ipv4.tcp_synack_retries = 5
net.ipv4.tcp_syncookies = 1
net.ipv4.tcp_thin_linear_timeouts = 0
net.ipv4.tcp_timestamps = 1
net.ipv4.tcp_tso_win_divisor = 30
net.ipv4.tcp_tw_reuse = 1
net.ipv4.tcp_window_scaling = 1
net.ipv4.tcp_wmem = 8192	250000	16777216
net.ipv4.tcp_workaround_signed_windows = 0
net.ipv4.udp_early_demux = 1
net.ipv4.udp_l3mdev_accept = 0
net.ipv4.udp_mem = 725430	967240	1450860
net.ipv4.udp_rmem_min = 4096
net.ipv4.udp_wmem_min = 4096
net.ipv4.xfrm4_gc_thresh = 32768
net.ipv6.anycast_src_echo_reply = 0
net.ipv6.auto_flowlabels = 1
net.ipv6.bindv6only = 0
net.ipv6.calipso_cache_bucket_size = 10
net.ipv6.calipso_cache_enable = 1
net.ipv6.conf.all.accept_dad = 0
net.ipv6.conf.all.accept_ra = 1
net.ipv6.conf.all.accept_ra_defrtr = 1
net.ipv6.conf.all.accept_ra_from_local = 0
net.ipv6.conf.all.accept_ra_min_hop_limit = 1
net.ipv6.conf.all.accept_ra_mtu = 1
net.ipv6.conf.all.accept_ra_pinfo = 1
net.ipv6.conf.all.accept_ra_rt_info_max_plen = 0
net.ipv6.conf.all.accept_ra_rt_info_min_plen = 0
net.ipv6.conf.all.accept_ra_rtr_pref = 1
net.ipv6.conf.all.accept_redirects = 0
net.ipv6.conf.all.accept_source_route = 0
net.ipv6.conf.all.addr_gen_mode = 0
net.ipv6.conf.all.autoconf = 1
net.ipv6.conf.all.dad_transmits = 1
net.ipv6.conf.all.disable_ipv6 = 0
net.ipv6.conf.all.disable_policy = 0
net.ipv6.conf.all.drop_unicast_in_l2_multicast = 0
net.ipv6.conf.all.drop_unsolicited_na = 0
net.ipv6.conf.all.enhanced_dad = 1
net.ipv6.conf.all.force_mld_version = 0
net.ipv6.conf.all.force_tllao = 0
net.ipv6.conf.all.forwarding = 0
net.ipv6.conf.all.hop_limit = 64
net.ipv6.conf.all.ignore_routes_with_linkdown = 0
net.ipv6.conf.all.keep_addr_on_down = 0
net.ipv6.conf.all.max_addresses = 16
net.ipv6.conf.all.max_desync_factor = 600
net.ipv6.conf.all.mc_forwarding = 0
net.ipv6.conf.all.mldv1_unsolicited_report_interval = 10000
net.ipv6.conf.all.mldv2_unsolicited_report_interval = 1000
net.ipv6.conf.all.mtu = 1280
net.ipv6.conf.all.ndisc_notify = 0
net.ipv6.conf.all.ndisc_tclass = 0
net.ipv6.conf.all.optimistic_dad = 0
net.ipv6.conf.all.proxy_ndp = 0
net.ipv6.conf.all.regen_max_retry = 3
net.ipv6.conf.all.router_probe_interval = 60
net.ipv6.conf.all.router_solicitation_delay = 1
net.ipv6.conf.all.router_solicitation_interval = 4
net.ipv6.conf.all.router_solicitation_max_interval = 3600
net.ipv6.conf.all.router_solicitations = -1
net.ipv6.conf.all.seg6_enabled = 0
net.ipv6.conf.all.suppress_frag_ndisc = 1
net.ipv6.conf.all.temp_prefered_lft = 86400
net.ipv6.conf.all.temp_valid_lft = 604800
net.ipv6.conf.all.use_oif_addrs_only = 0
net.ipv6.conf.all.use_optimistic = 0
net.ipv6.conf.all.use_tempaddr = 0
net.ipv6.conf.default.accept_dad = 1
net.ipv6.conf.default.accept_ra = 1
net.ipv6.conf.default.accept_ra_defrtr = 1
net.ipv6.conf.default.accept_ra_from_local = 0
net.ipv6.conf.default.accept_ra_min_hop_limit = 1
net.ipv6.conf.default.accept_ra_mtu = 1
net.ipv6.conf.default.accept_ra_pinfo = 1
net.ipv6.conf.default.accept_ra_rt_info_max_plen = 0
net.ipv6.conf.default.accept_ra_rt_info_min_plen = 0
net.ipv6.conf.default.accept_ra_rtr_pref = 1
net.ipv6.conf.default.accept_redirects = 0
net.ipv6.conf.default.accept_source_route = 0
net.ipv6.conf.default.addr_gen_mode = 0
net.ipv6.conf.default.autoconf = 1
net.ipv6.conf.default.dad_transmits = 1
net.ipv6.conf.default.disable_ipv6 = 0
net.ipv6.conf.default.disable_policy = 0
net.ipv6.conf.default.drop_unicast_in_l2_multicast = 0
net.ipv6.conf.default.drop_unsolicited_na = 0
net.ipv6.conf.default.enhanced_dad = 1
net.ipv6.conf.default.force_mld_version = 0
net.ipv6.conf.default.force_tllao = 0
net.ipv6.conf.default.forwarding = 0
net.ipv6.conf.default.hop_limit = 64
net.ipv6.conf.default.ignore_routes_with_linkdown = 0
net.ipv6.conf.default.keep_addr_on_down = 0
net.ipv6.conf.default.max_addresses = 16
net.ipv6.conf.default.max_desync_factor = 600
net.ipv6.conf.default.mc_forwarding = 0
net.ipv6.conf.default.mldv1_unsolicited_report_interval = 10000
net.ipv6.conf.default.mldv2_unsolicited_report_interval = 1000
net.ipv6.conf.default.mtu = 1280
net.ipv6.conf.default.ndisc_notify = 0
net.ipv6.conf.default.ndisc_tclass = 0
net.ipv6.conf.default.optimistic_dad = 0
net.ipv6.conf.default.proxy_ndp = 0
net.ipv6.conf.default.regen_max_retry = 3
net.ipv6.conf.default.router_probe_interval = 60
net.ipv6.conf.default.router_solicitation_delay = 1
net.ipv6.conf.default.router_solicitation_interval = 4
net.ipv6.conf.default.router_solicitation_max_interval = 3600
net.ipv6.conf.default.router_solicitations = -1
net.ipv6.conf.default.seg6_enabled = 0
net.ipv6.conf.default.suppress_frag_ndisc = 1
net.ipv6.conf.default.temp_prefered_lft = 86400
net.ipv6.conf.default.temp_valid_lft = 604800
net.ipv6.conf.default.use_oif_addrs_only = 0
net.ipv6.conf.default.use_optimistic = 0
net.ipv6.conf.default.use_tempaddr = 0
net.ipv6.conf.enp3s0.accept_dad = 1
net.ipv6.conf.enp3s0.accept_ra = 1
net.ipv6.conf.enp3s0.accept_ra_defrtr = 1
net.ipv6.conf.enp3s0.accept_ra_from_local = 0
net.ipv6.conf.enp3s0.accept_ra_min_hop_limit = 1
net.ipv6.conf.enp3s0.accept_ra_mtu = 1
net.ipv6.conf.enp3s0.accept_ra_pinfo = 1
net.ipv6.conf.enp3s0.accept_ra_rt_info_max_plen = 0
net.ipv6.conf.enp3s0.accept_ra_rt_info_min_plen = 0
net.ipv6.conf.enp3s0.accept_ra_rtr_pref = 1
net.ipv6.conf.enp3s0.accept_redirects = 0
net.ipv6.conf.enp3s0.accept_source_route = 0
net.ipv6.conf.enp3s0.addr_gen_mode = 0
net.ipv6.conf.enp3s0.autoconf = 1
net.ipv6.conf.enp3s0.dad_transmits = 1
net.ipv6.conf.enp3s0.disable_ipv6 = 0
net.ipv6.conf.enp3s0.disable_policy = 0
net.ipv6.conf.enp3s0.drop_unicast_in_l2_multicast = 0
net.ipv6.conf.enp3s0.drop_unsolicited_na = 0
net.ipv6.conf.enp3s0.enhanced_dad = 1
net.ipv6.conf.enp3s0.force_mld_version = 0
net.ipv6.conf.enp3s0.force_tllao = 0
net.ipv6.conf.enp3s0.forwarding = 0
net.ipv6.conf.enp3s0.hop_limit = 64
net.ipv6.conf.enp3s0.ignore_routes_with_linkdown = 0
net.ipv6.conf.enp3s0.keep_addr_on_down = 0
net.ipv6.conf.enp3s0.max_addresses = 16
net.ipv6.conf.enp3s0.max_desync_factor = 600
net.ipv6.conf.enp3s0.mc_forwarding = 0
net.ipv6.conf.enp3s0.mldv1_unsolicited_report_interval = 10000
net.ipv6.conf.enp3s0.mldv2_unsolicited_report_interval = 1000
net.ipv6.conf.enp3s0.mtu = 1500
net.ipv6.conf.enp3s0.ndisc_notify = 0
net.ipv6.conf.enp3s0.ndisc_tclass = 0
net.ipv6.conf.enp3s0.optimistic_dad = 0
net.ipv6.conf.enp3s0.proxy_ndp = 0
net.ipv6.conf.enp3s0.regen_max_retry = 3
net.ipv6.conf.enp3s0.router_probe_interval = 60
net.ipv6.conf.enp3s0.router_solicitation_delay = 1
net.ipv6.conf.enp3s0.router_solicitation_interval = 4
net.ipv6.conf.enp3s0.router_solicitation_max_interval = 3600
net.ipv6.conf.enp3s0.router_solicitations = -1
net.ipv6.conf.enp3s0.seg6_enabled = 0
net.ipv6.conf.enp3s0.suppress_frag_ndisc = 1
net.ipv6.conf.enp3s0.temp_prefered_lft = 86400
net.ipv6.conf.enp3s0.temp_valid_lft = 604800
net.ipv6.conf.enp3s0.use_oif_addrs_only = 0
net.ipv6.conf.enp3s0.use_optimistic = 0
net.ipv6.conf.enp3s0.use_tempaddr = 0
net.ipv6.conf.lo.accept_dad = -1
net.ipv6.conf.lo.accept_ra = 1
net.ipv6.conf.lo.accept_ra_defrtr = 1
net.ipv6.conf.lo.accept_ra_from_local = 0
net.ipv6.conf.lo.accept_ra_min_hop_limit = 1
net.ipv6.conf.lo.accept_ra_mtu = 1
net.ipv6.conf.lo.accept_ra_pinfo = 1
net.ipv6.conf.lo.accept_ra_rt_info_max_plen = 0
net.ipv6.conf.lo.accept_ra_rt_info_min_plen = 0
net.ipv6.conf.lo.accept_ra_rtr_pref = 1
net.ipv6.conf.lo.accept_redirects = 1
net.ipv6.conf.lo.accept_source_route = 0
net.ipv6.conf.lo.addr_gen_mode = 0
net.ipv6.conf.lo.autoconf = 1
net.ipv6.conf.lo.dad_transmits = 1
net.ipv6.conf.lo.disable_ipv6 = 0
net.ipv6.conf.lo.disable_policy = 0
net.ipv6.conf.lo.drop_unicast_in_l2_multicast = 0
net.ipv6.conf.lo.drop_unsolicited_na = 0
net.ipv6.conf.lo.enhanced_dad = 1
net.ipv6.conf.lo.force_mld_version = 0
net.ipv6.conf.lo.force_tllao = 0
net.ipv6.conf.lo.forwarding = 0
net.ipv6.conf.lo.hop_limit = 64
net.ipv6.conf.lo.ignore_routes_with_linkdown = 0
net.ipv6.conf.lo.keep_addr_on_down = 0
net.ipv6.conf.lo.max_addresses = 16
net.ipv6.conf.lo.max_desync_factor = 600
net.ipv6.conf.lo.mc_forwarding = 0
net.ipv6.conf.lo.mldv1_unsolicited_report_interval = 10000
net.ipv6.conf.lo.mldv2_unsolicited_report_interval = 1000
net.ipv6.conf.lo.mtu = 65536
net.ipv6.conf.lo.ndisc_notify = 0
net.ipv6.conf.lo.ndisc_tclass = 0
net.ipv6.conf.lo.optimistic_dad = 0
net.ipv6.conf.lo.proxy_ndp = 0
net.ipv6.conf.lo.regen_max_retry = 3
net.ipv6.conf.lo.router_probe_interval = 60
net.ipv6.conf.lo.router_solicitation_delay = 1
net.ipv6.conf.lo.router_solicitation_interval = 4
net.ipv6.conf.lo.router_solicitation_max_interval = 3600
net.ipv6.conf.lo.router_solicitations = -1
net.ipv6.conf.lo.seg6_enabled = 0
net.ipv6.conf.lo.suppress_frag_ndisc = 1
net.ipv6.conf.lo.temp_prefered_lft = 86400
net.ipv6.conf.lo.temp_valid_lft = 604800
net.ipv6.conf.lo.use_oif_addrs_only = 0
net.ipv6.conf.lo.use_optimistic = 0
net.ipv6.conf.lo.use_tempaddr = -1
net.ipv6.fib_multipath_hash_policy = 0
net.ipv6.flowlabel_consistency = 1
net.ipv6.flowlabel_reflect = 0
net.ipv6.flowlabel_state_ranges = 0
net.ipv6.fwmark_reflect = 0
net.ipv6.icmp.echo_ignore_all = 0
net.ipv6.icmp.ratelimit = 1000
net.ipv6.idgen_delay = 1
net.ipv6.idgen_retries = 3
net.ipv6.ip6frag_high_thresh = 4194304
net.ipv6.ip6frag_low_thresh = 3145728
net.ipv6.ip6frag_secret_interval = 0
net.ipv6.ip6frag_time = 60
net.ipv6.ip_nonlocal_bind = 0
net.ipv6.max_dst_opts_length = 2147483647
net.ipv6.max_dst_opts_number = 8
net.ipv6.max_hbh_length = 2147483647
net.ipv6.max_hbh_opts_number = 8
net.ipv6.mld_max_msf = 64
net.ipv6.mld_qrv = 2
net.ipv6.neigh.default.anycast_delay = 100
net.ipv6.neigh.default.app_solicit = 0
net.ipv6.neigh.default.base_reachable_time_ms = 30000
net.ipv6.neigh.default.delay_first_probe_time = 5
net.ipv6.neigh.default.gc_interval = 30
net.ipv6.neigh.default.gc_stale_time = 60
net.ipv6.neigh.default.gc_thresh1 = 128
net.ipv6.neigh.default.gc_thresh2 = 512
net.ipv6.neigh.default.gc_thresh3 = 1024
net.ipv6.neigh.default.locktime = 0
net.ipv6.neigh.default.mcast_resolicit = 0
net.ipv6.neigh.default.mcast_solicit = 3
net.ipv6.neigh.default.proxy_delay = 80
net.ipv6.neigh.default.proxy_qlen = 64
net.ipv6.neigh.default.retrans_time_ms = 1000
net.ipv6.neigh.default.ucast_solicit = 3
net.ipv6.neigh.default.unres_qlen = 101
net.ipv6.neigh.default.unres_qlen_bytes = 212992
net.ipv6.neigh.enp3s0.anycast_delay = 100
net.ipv6.neigh.enp3s0.app_solicit = 0
net.ipv6.neigh.enp3s0.base_reachable_time_ms = 30000
net.ipv6.neigh.enp3s0.delay_first_probe_time = 5
net.ipv6.neigh.enp3s0.gc_stale_time = 60
net.ipv6.neigh.enp3s0.locktime = 0
net.ipv6.neigh.enp3s0.mcast_resolicit = 0
net.ipv6.neigh.enp3s0.mcast_solicit = 3
net.ipv6.neigh.enp3s0.proxy_delay = 80
net.ipv6.neigh.enp3s0.proxy_qlen = 64
net.ipv6.neigh.enp3s0.retrans_time_ms = 1000
net.ipv6.neigh.enp3s0.ucast_solicit = 3
net.ipv6.neigh.enp3s0.unres_qlen = 101
net.ipv6.neigh.enp3s0.unres_qlen_bytes = 212992
net.ipv6.neigh.lo.anycast_delay = 100
net.ipv6.neigh.lo.app_solicit = 0
net.ipv6.neigh.lo.base_reachable_time_ms = 30000
net.ipv6.neigh.lo.delay_first_probe_time = 5
net.ipv6.neigh.lo.gc_stale_time = 60
net.ipv6.neigh.lo.locktime = 0
net.ipv6.neigh.lo.mcast_resolicit = 0
net.ipv6.neigh.lo.mcast_solicit = 3
net.ipv6.neigh.lo.proxy_delay = 80
net.ipv6.neigh.lo.proxy_qlen = 64
net.ipv6.neigh.lo.retrans_time_ms = 1000
net.ipv6.neigh.lo.ucast_solicit = 3
net.ipv6.neigh.lo.unres_qlen = 101
net.ipv6.neigh.lo.unres_qlen_bytes = 212992
net.ipv6.route.gc_elasticity = 9
net.ipv6.route.gc_interval = 30
net.ipv6.route.gc_min_interval = 0
net.ipv6.route.gc_min_interval_ms = 500
net.ipv6.route.gc_thresh = 1024
net.ipv6.route.gc_timeout = 60
net.ipv6.route.max_size = 4096
net.ipv6.route.min_adv_mss = 1220
net.ipv6.route.mtu_expires = 600
net.ipv6.seg6_flowlabel = 0
net.ipv6.xfrm6_gc_thresh = 32768
net.netfilter.nf_log.0 = NONE
net.netfilter.nf_log.1 = NONE
net.netfilter.nf_log.10 = NONE
net.netfilter.nf_log.11 = NONE
net.netfilter.nf_log.12 = NONE
net.netfilter.nf_log.2 = NONE
net.netfilter.nf_log.3 = NONE
net.netfilter.nf_log.4 = NONE
net.netfilter.nf_log.5 = NONE
net.netfilter.nf_log.6 = NONE
net.netfilter.nf_log.7 = NONE
net.netfilter.nf_log.8 = NONE
net.netfilter.nf_log.9 = NONE
net.netfilter.nf_log_all_netns = 0
net.unix.max_dgram_qlen = 512
user.max_cgroup_namespaces = 57819
user.max_inotify_instances = 128
user.max_inotify_watches = 8192
user.max_ipc_namespaces = 57819
user.max_mnt_namespaces = 57819
user.max_net_namespaces = 57819
user.max_pid_namespaces = 57819
user.max_user_namespaces = 57819
user.max_uts_namespaces = 57819
vm.admin_reserve_kbytes = 8192
vm.block_dump = 0
vm.cache_reclaim_enable = 1
vm.cache_reclaim_s = 0
vm.cache_reclaim_weight = 1
vm.compact_unevictable_allowed = 1
vm.dirty_background_bytes = 409600000
vm.dirty_background_ratio = 0
vm.dirty_bytes = 0
vm.dirty_expire_centisecs = 3000
vm.dirty_ratio = 60
vm.dirty_writeback_centisecs = 50
vm.dirtytime_expire_seconds = 43200
vm.drop_caches_loop_limit = 0
vm.extfrag_threshold = 500
vm.hugetlb_shm_group = 0
vm.laptop_mode = 0
vm.legacy_va_layout = 0
vm.lowmem_reserve_ratio = 256	32	0
vm.max_map_count = 65530
vm.memcg_qos_enable = 0
vm.memory_failure_early_kill = 0
vm.memory_failure_recovery = 1
vm.min_free_kbytes = 112640
vm.min_slab_ratio = 5
vm.min_unmapped_ratio = 1
vm.mmap_min_addr = 4096
vm.mmap_rnd_bits = 18
vm.mmap_rnd_compat_bits = 11
vm.nr_hugepages = 0
vm.nr_hugepages_mempolicy = 0
vm.nr_overcommit_hugepages = 0
vm.numa_stat = 1
vm.numa_zonelist_order = Node
vm.oom_dump_tasks = 1
vm.oom_kill_allocating_task = 0
vm.overcommit_kbytes = 0
vm.overcommit_memory = 0
vm.overcommit_ratio = 50
vm.page-cluster = 3
vm.panic_on_oom = 0
vm.percpu_pagelist_fraction = 0
vm.stat_interval = 1
vm.swappiness = 0
vm.user_reserve_kbytes = 131072
vm.vfs_cache_pressure = 100
vm.watermark_scale_factor = 10
vm.zone_reclaim_mode = 0</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=kernel_para-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		sysctl -a 显示的/proc/sys相关内核的运行参数如上，主要检查swappiness、kernel_shmall、kernel_shmmax参数。<br>swappiness的建议值为0，表示最大限度使用物理内存。<br>kernel.shmall表示使用的共享内存的总页数大小限制(建议设置内存的80%，单位page，查看page大小 getconf PAGE_SIZE)<br>kernel_shmmax参数单个共享内存段的最大尺寸,建议设置为物理内存的50%
		</div>
		</div></br>
<h3 id=resource_limits>资源限制配置</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_resource_limits'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-resource_limits","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-resource_limits' class='detail-text-get'>vastbase soft nofile 102400
vastbase hard nofile 102400
vastbase soft stack unlimited
vastbase hard stack unlimited
vastbase soft core unlimited
vastbase hard core unlimited
vastbase soft memlock unlimited
root       soft    as  unlimited
vastbase       soft    as  unlimited
root       hard    as  unlimited
vastbase       hard    as  unlimited
root       soft    nproc  unlimited
vastbase       soft    nproc  unlimited
root       hard    nproc  unlimited
vastbase       hard    nproc  unlimited</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=resource_limits-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		/etc/security/limits.conf文件限制着用户可以使用的最大文件数，最大线程，最大内存等资源使用量，对数据库用户需要放松对应的资源限制<br>参考参数如下：<br>vastbase soft nproc unlimited<br>vastbase hard nproc unlimited<br>vastbase soft nofile 102400<br>vastbase hard nofile 102400<br>vastbase soft stack unlimited<br>vastbase hard stack unlimited<br>vastbase soft core unlimited<br>vastbase hard core unlimited<br>vastbase soft memlock unlimited<br>vastbase hard memlock unlimited
		</div>
		</div></br>
<h3 id=selinux>selinux配置</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_selinux'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-selinux","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-selinux' class='detail-text-get'>SELINUX=disabled
SELINUXTYPE=targeted</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=selinux-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		SELINUX全称为Security Enhanced Linux ，是对系统安全级别更细粒度的设置。SELinux配置设置可能会与数据库CM需要的功能相冲突，所以建议关闭。
		</div>
		</div></br>
<h3 id=transparent_hugepage>透明大页配置</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_transparent_hugepage'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-transparent_hugepage","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-transparent_hugepage' class='detail-text-get'>transparent_hugepage_enabled
[always] madvise never

transparent_hugepage_defrag
always defer defer+madvise [madvise] never</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=transparent_hugepage-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		透明大页（ TransparentHugePages ）会导致数据库节点异常重启或性能问题，建议关闭
		</div>
		</div></br>
<h3 id=hugepage>标准大页配置</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_hugepage'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-hugepage","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-hugepage' class='detail-text-get'>MemTotal:       15354496 kB
MemFree:          734848 kB
MemAvailable:    5570112 kB
Buffers:          270976 kB
Cached:          8809152 kB
SwapCached:       207424 kB
Active:          7639616 kB
Inactive:        6249024 kB
Active(anon):    4583552 kB
Inactive(anon):  4206464 kB
Active(file):    3056064 kB
Inactive(file):  2042560 kB
Unevictable:           0 kB
Mlocked:               0 kB
SwapTotal:       8400832 kB
SwapFree:        7522624 kB
Dirty:               256 kB
Writeback:             0 kB
AnonPages:       4606144 kB
Mapped:          4021184 kB
Shmem:           3981504 kB
Slab:             541504 kB
SReclaimable:     190144 kB
SUnreclaim:       351360 kB
KernelStack:       10448 kB
PageTables:        18304 kB
NFS_Unstable:          0 kB
Bounce:                0 kB
WritebackTmp:          0 kB
CommitLimit:    16078080 kB
Committed_AS:   12546240 kB
VmallocTotal:   133009637312 kB
VmallocUsed:           0 kB
VmallocChunk:          0 kB
Percpu:            13312 kB
HardwareCorrupted:     0 kB
AnonHugePages:         0 kB
ShmemHugePages:        0 kB
ShmemPmdMapped:        0 kB
CmaTotal:         524288 kB
CmaFree:           96192 kB
HugePages_Total:       0
HugePages_Free:        0
HugePages_Rsvd:        0
HugePages_Surp:        0
Hugepagesize:     524288 kB
Hugetlb:               0 kB</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=hugepage-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		标准大页配置参数，VastbaseG100数据库不支持大页，建议关闭<br>Postgres数据库或VastbaseE100，当shared_buffer大于32GB时候，建议配置大页
		</div>
		</div></br>
<h3 id=cpu>cpu使用率</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_cpu'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-cpu","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-cpu' class='detail-text-get'>top - 16:16:09 up 171 days, 23:19,  0 users,  load average: 3.46, 2.56, 2.31
Tasks: 308 total,   1 running, 307 sleeping,   0 stopped,   0 zombie
%Cpu(s):  9.0 us,  2.0 sy,  0.0 ni, 88.7 id,  0.0 wa,  0.4 hi,  0.0 si,  0.0 st
MiB Mem :  14994.6 total,    728.1 free,   5212.9 used,   9053.6 buff/cache
MiB Swap:   8203.9 total,   7346.3 free,    857.6 used.   5450.2 avail Mem 

    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
 102631 vastbase  20   0   27.1g   8.0g   3.7g S 175.0  54.6 126219:11 vastbase
      1 root      20   0  181824   8640   4800 S   0.0   0.1   3:33.97 systemd
      2 root      20   0       0      0      0 S   0.0   0.0   0:09.99 kthreadd
      3 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 rcu_gp
      4 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 rcu_par+
      6 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 kworker+
      8 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 mm_perc+
      9 root      20   0       0      0      0 S   0.0   0.0   0:53.86 ksoftir+
     10 root      20   0       0      0      0 I   0.0   0.0  59:58.43 rcu_sch+
     11 root      20   0       0      0      0 I   0.0   0.0   0:00.00 rcu_bh</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=cpu-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		操作系统CPU使用控制在合理范围，建议小于70%，严重程度:<br>WARNING:70%<br>ERROR:80%<br>FATAL:90%
		</div>
		</div></br>
<h3 id=mem_info>内存使用情况</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_mem_info'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-mem_info","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-mem_info' class='detail-text-get'>              total        used        free      shared  buff/cache   available
Mem:          14994        5216         724        3888        9053        5447
Swap:          8203         857        7346</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=mem_info-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		操作系统可用内存需要保证在合理范围内，建议大于40%,严重程度为：<br>WARNING:小于40%<br>ERROR:小于20%
		</div>
		</div></br>
<h3 id=disk>硬盘使用情况</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_disk'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-disk","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-disk' class='detail-text-get'>根目录的磁盘使用率为: 9%
Filesystem           Type      Size  Used Avail Use% Mounted on
devtmpfs             devtmpfs  7.1G     0  7.1G   0% /dev
tmpfs                tmpfs     7.4G     0  7.4G   0% /dev/shm
tmpfs                tmpfs     7.4G  739M  6.7G  10% /run
tmpfs                tmpfs     7.4G     0  7.4G   0% /sys/fs/cgroup
/dev/mapper/uos-root xfs        40G  3.3G   37G   9% /
tmpfs                tmpfs     7.4G   11M  7.4G   1% /tmp
/dev/mapper/uos-data ext4       99G   24G   70G  26% /data
/dev/mapper/uos-var  xfs        10G  1.1G  9.0G  11% /var
/dev/mapper/uos-app  xfs        11G  2.1G  8.4G  20% /app
/dev/mapper/uos-home xfs        20G  9.2G   11G  46% /home
/dev/mapper/uos-opt  xfs        10G  127M  9.9G   2% /opt
/dev/vda2            xfs      1014M  201M  814M  20% /boot
/dev/vda1            vfat      599M   25M  575M   5% /boot/efi
tmpfs                tmpfs     1.5G     0  1.5G   0% /run/user/0</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=disk-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		首先关注在生产环境有没有分盘，生产环境建议数据目录和备份目录单独分盘，其次关注磁盘使用率，磁盘使用率过大，将影响数据库运行的稳定性，建议根目录及数据盘使用率不超过80%，如超过90%，需要及时扩容。<br><a class="gotodisk" href="#disk" id="backLink" >若是从别的项跳转至该项，则点击此处返回</a>
		</div>
		</div></br>
<h3 id=net>网络IO</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_net'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-net","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-net' class='detail-text-get'>平均网络io=0.0333333
平均磁盘io=0.1

Cpu(s):  8.8 us,  3.4 sy,  0.0 ni, 87.4 id,  0.0 wa,  0.0 hi,  0.4 si,  0.0 st
Cpu(s):  9.7 us,  2.0 sy,  0.0 ni, 87.9 id,  0.1 wa,  0.1 hi,  0.2 si,  0.0 st
Cpu(s):  5.9 us,  0.4 sy,  0.0 ni, 93.5 id,  0.2 wa,  0.0 hi,  0.0 si,  0.0 st</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=net-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		网络IO的检查，需要保证稳定性，不稳定的网络可能对数据同步、集群运行有不利的影响
		</div>
		</div></br>
<h3 id=crontab>定时任务</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_crontab'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-crontab","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-crontab' class='detail-text-get'>vastbase用户:

55 23 * * 0 find /data/vastdata/pg_log/ -name 'postgresql-*' -mtime +15 -delete

root用户:</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=crontab-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库备份很重要，对数据库安全有极大影响，生产环境需要重点确认备份是否存在，建议配置定时备份任务。<br>同时建议配置自动清理运行日志以及清理pg_cbm目录:<br>55 23 * * 0 find /数据库目录/pg_log/ -name 'postgresql-*' -mtime +30 -delete<br>55 23 * * 0 find /数据库目录/pg_cbm/ -name 'pg_xlog_*' -mtime +7 -delete
		</div>
		</div></br>
<h3 id=reboot>主机重启时间</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_reboot'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-reboot","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-reboot' class='detail-text-get'>上次重启距今已过去 171 天!!

restart_time=2023-11-03 16:56:51
 reboot   system boot  4.19.90-2109.1.0 Fri Nov  3 16:45   still running</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=reboot-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		90天内重启过的主机系统建议检查是否为计划内重启，如否，进一步检查系统日志进行排查
		</div>
		</div></br>
<h3 id=syslog>系统日志异常</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_syslog'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-syslog","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-syslog' class='detail-text-get'>Apr 23 03:40:32 hldb dnf[1460319]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 03:40:32 hldb dnf[1460319]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 03:40:32 hldb dnf[1460319]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 03:40:32 hldb dnf[1460319]: error: cannot open Packages database in /var/lib/rpm
Apr 23 03:40:32 hldb dnf[1460319]: Error: Error: rpmdb open failed
Apr 23 04:41:10 hldb dnf[1600194]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 04:41:10 hldb dnf[1600194]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 04:41:10 hldb dnf[1600194]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 04:41:10 hldb dnf[1600194]: error: cannot open Packages database in /var/lib/rpm
Apr 23 04:41:10 hldb dnf[1600194]: Error: Error: rpmdb open failed
Apr 23 05:42:02 hldb dnf[1739678]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 05:42:02 hldb dnf[1739678]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 05:42:02 hldb dnf[1739678]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 05:42:02 hldb dnf[1739678]: error: cannot open Packages database in /var/lib/rpm
Apr 23 05:42:02 hldb dnf[1739678]: Error: Error: rpmdb open failed
Apr 23 06:42:10 hldb dnf[1878537]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 06:42:10 hldb dnf[1878537]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 06:42:10 hldb dnf[1878537]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 06:42:10 hldb dnf[1878537]: error: cannot open Packages database in /var/lib/rpm
Apr 23 06:42:10 hldb dnf[1878537]: Error: Error: rpmdb open failed
Apr 23 07:43:10 hldb dnf[2020519]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 07:43:10 hldb dnf[2020519]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 07:43:10 hldb dnf[2020519]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 07:43:10 hldb dnf[2020519]: error: cannot open Packages database in /var/lib/rpm
Apr 23 07:43:10 hldb dnf[2020519]: Error: Error: rpmdb open failed
Apr 23 08:43:28 hldb dnf[2160492]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 08:43:28 hldb dnf[2160492]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 08:43:28 hldb dnf[2160492]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 08:43:28 hldb dnf[2160492]: error: cannot open Packages database in /var/lib/rpm
Apr 23 08:43:29 hldb dnf[2160492]: Error: Error: rpmdb open failed
Apr 23 09:44:11 hldb dnf[2301702]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 09:44:11 hldb dnf[2301702]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 09:44:11 hldb dnf[2301702]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 09:44:11 hldb dnf[2301702]: error: cannot open Packages database in /var/lib/rpm
Apr 23 09:44:11 hldb dnf[2301702]: Error: Error: rpmdb open failed
Apr 23 10:44:59 hldb dnf[2441618]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 10:44:59 hldb dnf[2441618]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 10:44:59 hldb dnf[2441618]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 10:44:59 hldb dnf[2441618]: error: cannot open Packages database in /var/lib/rpm
Apr 23 10:44:59 hldb dnf[2441618]: Error: Error: rpmdb open failed
Apr 23 11:45:02 hldb dnf[2582625]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 11:45:02 hldb dnf[2582625]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 11:45:02 hldb dnf[2582625]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 11:45:02 hldb dnf[2582625]: error: cannot open Packages database in /var/lib/rpm
Apr 23 11:45:02 hldb dnf[2582625]: Error: Error: rpmdb open failed
Apr 23 12:45:10 hldb dnf[2723727]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 12:45:10 hldb dnf[2723727]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 12:45:10 hldb dnf[2723727]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 12:45:10 hldb dnf[2723727]: error: cannot open Packages database in /var/lib/rpm
Apr 23 12:45:10 hldb dnf[2723727]: Error: Error: rpmdb open failed
Apr 23 13:45:40 hldb dnf[2867938]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 13:45:40 hldb dnf[2867938]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 13:45:40 hldb dnf[2867938]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 13:45:40 hldb dnf[2867938]: error: cannot open Packages database in /var/lib/rpm
Apr 23 13:45:40 hldb dnf[2867938]: Error: Error: rpmdb open failed
Apr 23 14:46:10 hldb dnf[3010410]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 14:46:10 hldb dnf[3010410]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 14:46:10 hldb dnf[3010410]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 14:46:10 hldb dnf[3010410]: error: cannot open Packages database in /var/lib/rpm
Apr 23 14:46:10 hldb dnf[3010410]: Error: Error: rpmdb open failed
Apr 23 15:46:29 hldb dnf[3151990]: error: rpmdb: BDB0113 Thread/process 3507127/281465587977664 failed: BDB1507 Thread died in Berkeley DB library
Apr 23 15:46:29 hldb dnf[3151990]: error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery
Apr 23 15:46:29 hldb dnf[3151990]: error: cannot open Packages index using db5 -  (-30973)
Apr 23 15:46:29 hldb dnf[3151990]: error: cannot open Packages database in /var/lib/rpm
Apr 23 15:46:29 hldb dnf[3151990]: Error: Error: rpmdb open failed
查看系统日志中发生FATAL、ERROR及内存泄露报错的信息！</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=syslog-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		系统日志错误信息，如果有FATAL、ERROR级别及OOM信息需要重点关注，并进一步排查影响，保证操作系统稳定性
		</div>
		</div></br>
<h3 id=cpu_info>CPU架构</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_cpu_info'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-cpu_info","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-cpu_info' class='detail-text-get'>Architecture:                    aarch64
CPU op-mode(s):                  64-bit
Byte Order:                      Little Endian
CPU(s):                          16
On-line CPU(s) list:             0-15
Thread(s) per core:              1
Core(s) per socket:              1
Socket(s):                       16
NUMA node(s):                    1
Vendor ID:                       HiSilicon
Model:                           0
Model name:                      Kunpeng-920
Stepping:                        0x1
CPU max MHz:                     2600.0000
CPU min MHz:                     2600.0000
BogoMIPS:                        200.00
L1d cache:                       1 MiB
L1i cache:                       1 MiB
L2 cache:                        8 MiB
L3 cache:                        512 MiB
NUMA node0 CPU(s):               0-15
Vulnerability Itlb multihit:     Not affected
Vulnerability L1tf:              Not affected
Vulnerability Mds:               Not affected
Vulnerability Meltdown:          Not affected
Vulnerability Spec store bypass: Not affected
Vulnerability Spectre v1:        Mitigation; __user pointer sanitization
Vulnerability Spectre v2:        Not affected
Vulnerability Srbds:             Not affected
Vulnerability Tsx async abort:   Not affected
Flags:                           fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm jscvt fcma dcpop asimddp asimdfhm</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=cpu_info-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		CPU信息，包括了架构、品牌、核数等，常见CPU架构为x86及ARM架构
		</div>
		</div></br>
<h3 id=os_user_expire>OS用户密码过期检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_os_user_expire'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-os_user_expire","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-os_user_expire' class='detail-text-get'>nobody 密码不会过期
op 密码不会过期
vastbase 密码不会过期</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=os_user_expire-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		若是用户密码已过期或是接近过期，请及时重置密码。<br>或是调整用户密码永不过期：chage -M 99999 用户名
		</div>
		</div></br>
<h2 id=数据库巡检项详情>数据库巡检项详情</h2>
<h3 id=sync_exception>同步异常检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_sync_exception'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-sync_exception","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-sync_exception' class='detail-text-get'>is_cluster=false
is_standby=f
standby_count=0


 name | setting | unit | category | short_desc | extra_desc | context | vartype | source | min_val | max_val | enumvals | boot_val | reset_val | sourcefile | sourceline 
------+---------+------+----------+------------+------------+---------+---------+--------+---------+---------+----------+----------+-----------+------------+------------
(0 rows)

[2024-04-23 16:16:08.651][3221854][][vb_ctl]: vb_ctl query ,datadir is /data/vastdata 
 HA state:           
	local_role                     : Normal
	static_connections             : 0
	db_state                       : Normal
	detail_information             : Normal

 Senders info:       
No information 
 Receiver info:      
No information </div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=sync_exception-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		检查集群同步状态，存在同步异常情况时，会影响数据库集群运行安全，建议检查集群日志进一步排查同步异常原因，<br>select * from pg_replication_slots pss where active='f'
		</div>
		</div></br>
<h3 id=sync_latency>同步延迟检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_sync_latency'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-sync_latency","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-sync_latency' class='detail-text-get'>单机环境，不需要判断同步延迟情况！！！</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=sync_latency-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		集群延迟，会产生数据库xlog文件堆积，堆积过多会对数据库磁盘资源过多占用，并影响数据库运行安全。如果延迟过大，超过1GB，建议从网络、复制槽状态来排查问题。<br>检查复制延迟的命令：SELECT
			usename, application_name, client_addr, client_hostname, client_port, backend_start, state, sync_state,
			pg_xlog_location_diff(A.c1, receiver_replay_location) /(1024 * 1024) AS slave_latency_MB,
			pg_xlog_location_diff(A.c1, sender_sent_location) /(1024 * 1024) AS send_latency_MB,
			pg_xlog_location_diff(A.c1, receiver_flush_location) /(1024 * 1024) AS flush_latency_MB,
			now()::timestamptz AS query_time
			FROM pg_stat_replication, pg_current_xlog_location() AS A(c1);
		</div>
		</div></br>
<h3 id=switchover_time>近期切换检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_switchover_time'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-switchover_time","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-switchover_time' class='detail-text-get'>非集群环境,没有has组件！！！</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=switchover_time-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		显示上次数据库节点发生切换时间，如果集群在一周内发生过切换，建议检查集群日志做进一步排查，并查看切换时间点的网络、磁盘IO、CPU、内存使用情况
		</div>
		</div></br>
<h3 id=repl_slot>复制槽异常检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_repl_slot'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-repl_slot","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-repl_slot' class='detail-text-get'>没有状态异常复制槽，或者当前是备库。
 slot_name | plugin | slot_type | datoid | database | active | xmin | catalog_xmin | restart_lsn | dummy_standby 
-----------+--------+-----------+--------+----------+--------+------+--------------+-------------+---------------
(0 rows)
 slot_name | plugin | slot_type | datoid | database | active | xmin | catalog_xmin | restart_lsn | dummy_standby 
-----------+--------+-----------+--------+----------+--------+------+--------------+-------------+---------------
(0 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=repl_slot-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		复制槽状态为false时会导致集群复制发生延迟 ，从而可能导致数据库xlog文件可能堆积，堆积过多对数据库磁盘资源占用较大，并影响数据库运行安全。建议：<br>1、检查cdc工具是否存在或异常<br>2、释放异常复制槽，减少磁盘使用<br>  select pg_drop_replication_slot(slot_name) from pg_replication_slots pss where active='f' ;<br>3、检查网络是否异常
		</div>
		</div></br>
<h3 id=has_log>近期HAS日志检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_has_log'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-has_log","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-has_log' class='detail-text-get'>非集群环境，没有 has 组件！根据业务需要，建议升级为集群</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=has_log-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		近期HAS日志检查，HAS日志是数据库集群运行正常的重要记录，请详细检查HAS日志是否有报错信息，及时排查，保证集群运行正常，如果非集群没有配置has组件，建议升级为集群状态
		</div>
		</div></br>
<h3 id=has_lib_check>HAS依赖检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_has_lib_check'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-has_lib_check","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-has_lib_check' class='detail-text-get'>非集群环境，不进行该检查</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=has_lib_check-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		HAS版本若是低于V1.2.0 Build 17，则依赖存放位置为tmp目录下，可能会出现误删导致HAS故障，建议升级HAS版本或是配置tmp排除规则：<br>echo "X /tmp/_MEI*" >> /usr/lib/tmpfiles.d/tmp.conf
		</div>
		</div></br>
<h3 id=dcs_log>近期DCS日志检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_dcs_log'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-dcs_log","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-dcs_log' class='detail-text-get'>非集群环境,没有 dcs 组件！！！建议根据业务需要，升级为集群架构</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=dcs_log-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		近期DCS日志检查，DCS日志是数据库集群运行正常的重要记录，请详细检查DCS日志是否有报错信息，防止因磁盘、网络、ntpd等问题导致集群异常
		</div>
		</div></br>
<h3 id=db_version>数据库版本信息检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_version'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_version","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_version' class='detail-text-get'>                                                                             version                                                                              
------------------------------------------------------------------------------------------------------------------------------------------------------------------
 (Vastbase G100 V2.2 (Build 10) Release) compiled at 2023-06-08 12:32:37 commit 13573 last mr   on aarch64-unknown-linux-gnu, compiled by g++ (GCC) 7.3.0, 64-bit
(1 row)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_version-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库版本检查，建议升级到最新的补丁，如为大版本升级（如Vastbase G100 2.2.5 --> Vastbase G100 2.2.10），建议做充分稳定性测试和业务测试后再进行大版本升级
		</div>
		</div></br>
<h3 id=db_info>数据库信息检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_info'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_info","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_info' class='detail-text-get'> datname  | pg_encoding_to_char | datcollate | datcompatibility 
----------+---------------------+------------+------------------
 vastbase | UTF8                | en_US.utf8 | A
 postgres | UTF8                | en_US.utf8 | A
 elcs     | UTF8                | en_US.utf8 | A
(3 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_info-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库信息检查
		</div>
		</div></br>
<h3 id=db_instance>实例状态检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_instance'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_instance","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_instance' class='detail-text-get'>db_pid=102631

上次实例启动时间:
 2024-02-18 12:05:41.426233+08</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_instance-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		近期有重启过的数据库，检查是否为计划内的重启，如果否，建议检查集群日志和数据库日志进行进一步排查，保证集群和数据库的稳定性
		</div>
		</div></br>
<h3 id=db_conn>数据库连接检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_conn'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_conn","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_conn' class='detail-text-get'> total_conn 
------------
        199
(1 row)

 active_conn 
-------------
           4
(1 row)

 usename  | datname  |   client_addr   | count 
----------+----------+-----------------+-------
 elcs     | elcs     | 200.100.252.192 |    80
 elcszsc  | elcs     | 200.100.252.240 |    80
 elcsuat  | elcs     | 172.21.1.38     |    26
 vastbase | postgres |                 |     7
 elcszsc  | elcs     | 172.21.1.38     |     3
 vbadmin  | elcs     | 200.100.168.28  |     2
 vbadmin  | vastbase | 127.0.0.1       |     1
(7 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_conn-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		如果数据库的连接数过大，需要检查一下业务和数据库的资源情况，调整相关的连接参数。<br>当前连接数占总连接数的80%以下为normal，80%~90%为warnning，90%~100%为fatal
		</div>
		</div></br>
<h3 id=db_backup>备份状态检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_backup'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_backup","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_backup' class='detail-text-get'>BACKUP实例近一天内没有备份！！！
===================================================================================================================================
 Instance  Version  ID      Recovery Time           Mode  WAL Mode  TLI  Time   Data   WAL  Zratio  Start LSN   Stop LSN    Status 
===================================================================================================================================
 BACKUP    9.2      RCPM41  2022-05-31 03:00:04+08  FULL  STREAM    1/0   12s  644MB  16MB    1.57  0/4C001190  0/4C001348  DONE   
 BACKUP    9.2      RCNRG1  2022-05-30 03:00:04+08  FULL  STREAM    1/0   11s  641MB  16MB    1.57  0/45000028  0/45000E40  DONE   </div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_backup-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		检查备份情况，此次检查主要检查vb_probackup备份工具的备份情况，是否有备份和最近备份是否成功，如果最近备份成功时间超过备份策略时间要求，则需要进一步检查备份日志进行排查
		</div>
		</div></br>
<h3 id=db_archive>归档状态检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_archive'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_archive","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_archive' class='detail-text-get'>archive_command=(disabled)
archive_dest=/data/archive_wals
archive_mode=off
没有开启归档</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_archive-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库归档文件是容灾的重要对象，生产环境需要检查归档是否配置。<br>如果存在归档失败，检查归档失败原因(归档是否开启、归档命令、归档目录路径、目录空间，是否本地归档)<br>归档目录下没有找到当天归档文件则判断为FATAL<br>如果有远程归档，会自动ssh远程检查，如果没有配置免密，则ssh检查失败<br>检查本地和远程当天产生归档文件，最新归档文件产生时间不在1个小时之内会提示为WARNING,如果归档目录里最旧文件日期超过15天，则需要检查是否配置定期清理归档
		</div>
		</div></br>
<h3 id=db_total_memory>数据库内存检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_total_memory'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_total_memory","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_total_memory' class='detail-text-get'> process_use_rate | dynamic_use_rate | dynamic_peak_rate | shared_use_rate  
------------------+------------------+-------------------+------------------
 .666666666666667 | .514132798126777 |  .998996487706974 | .644851951547779
(1 row)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_total_memory-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库内存检查，数据库使用过多的内存容易导致操作系统内存不足，引起异常甚至宕机风险，检查pg_total_memory_detail视图中的使用情况<br>process_use_rate: 进程使用的内存与最大进程内存的比率<br>dynamic_use_rate: 动态内存使用量与最大动态内存的比率<br>dynamic_peak_rate: 动态内存使用峰值与最大动态内存的比率<br>shared_use_rate: 共享内存使用量与最大共享内存的比率<br>内存使用建议小于对应的总内存的75%
		</div>
		</div></br>
<h3 id=db_memory_transaction>超200M会话检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_memory_transaction'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_memory_transaction","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_memory_transaction' class='detail-text-get'>暂无超过200MB的会话</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_memory_transaction-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库中超过200MB的会话检查
		</div>
		</div></br>
<h3 id=session_memory_larger_than_1G>数据库进程检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_session_memory_larger_than_1G'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-session_memory_larger_than_1G","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-session_memory_larger_than_1G' class='detail-text-get'>session_memory_larger_than_1G_count=0

 sessid | sesstype | contextname | level | parent | totalsize | freesize | usedsize | used_size_gb 
--------+----------+-------------+-------+--------+-----------+----------+----------+--------------
(0 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=session_memory_larger_than_1G-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库不建议单个进程内存使用超过1GB，如存在此类进程，需要根据业务实际运行情况分析，对此类进程进行清理
		</div>
		</div></br>
<h3 id=recent_db_log>近期数据库日志检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_recent_db_log'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-recent_db_log","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-recent_db_log' class='detail-text-get'>/data/vastdata/pg_log/postgresql-2024-04-19_143242.log:2024-04-19 15:40:22.088 200.100.252.240(44462) elcs elcszsc [70394159055120] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-19_143242.log:2024-04-19 15:40:22.105 200.100.252.240(44464) elcs elcszsc [70394463600912] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-19_143242.log:2024-04-19 17:10:22.159 200.100.252.240(48824) elcs elcszsc [70393089704208] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-19_171557.log:2024-04-19 18:40:22.271 200.100.252.240(53174) elcs elcszsc [70395984429328] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-19_171557.log:2024-04-19 18:40:22.289 200.100.252.240(53176) elcs elcszsc [70388957593872] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-19_195857.log:2024-04-19 20:40:22.322 200.100.252.240(58988) elcs elcszsc [70393518309648] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-19_224207.log:2024-04-19 23:10:22.361 200.100.252.240(38016) elcs elcszsc [70389386199312] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_000000.log:2024-04-20 00:10:22.397 200.100.252.240(40920) elcs elcszsc [70399399248144] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_000000.log:2024-04-20 02:40:22.463 200.100.252.240(48180) elcs elcszsc [70407241285904] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_024300.log:2024-04-20 04:10:22.512 200.100.252.240(52534) elcs elcszsc [70399437062416] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_024300.log:2024-04-20 04:40:22.548 200.100.252.240(53988) elcs elcszsc [70393161138448] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_052600.log:2024-04-20 07:40:22.599 200.100.252.240(34464) elcs elcszsc [70396558328080] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_052600.log:2024-04-20 07:40:22.670 200.100.252.240(34466) elcs elcszsc [70406443516176] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_052600.log:2024-04-20 07:40:22.686 200.100.252.240(34468) elcs elcszsc [70407039762704] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_080900.log:2024-04-20 10:10:22.737 200.100.252.240(41732) elcs elcszsc [70393661178128] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_105206.log:2024-04-20 11:40:22.825 200.100.252.240(46088) elcs elcszsc [70393375441168] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_105206.log:2024-04-20 11:40:22.843 200.100.252.240(46090) elcs elcszsc [70394658963728] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_133453.log:2024-04-20 14:40:22.891 200.100.252.240(54802) elcs elcszsc [70393125421328] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_133453.log:2024-04-20 15:40:22.978 200.100.252.240(57704) elcs elcszsc [70393969983760] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_155456.log:2024-04-20 17:10:23.097 200.100.252.240(33832) elcs elcszsc [70396463759632] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_180807.log:2024-04-20 18:40:23.266 200.100.252.240(38186) elcs elcszsc [70387467698448] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_201846.log:2024-04-20 21:10:23.372 200.100.252.240(45446) elcs elcszsc [70400360268048] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_222854.log:2024-04-20 22:40:23.479 200.100.252.240(49800) elcs elcszsc [70393339724048] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-20_222854.log:2024-04-20 23:40:23.590 200.100.252.240(52708) elcs elcszsc [70395107950864] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_000000.log:2024-04-21 01:40:23.710 200.100.252.240(58516) elcs elcszsc [70394897711376] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_020728.log:2024-04-21 02:10:23.776 200.100.252.240(59972) elcs elcszsc [70396760178960] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_020728.log:2024-04-21 03:40:24.051 200.100.252.240(36094) elcs elcszsc [70389064745232] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_041449.log:2024-04-21 04:40:24.308 200.100.252.240(39000) elcs elcszsc [70394009895184] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_041449.log:2024-04-21 05:40:24.413 200.100.252.240(41908) elcs elcszsc [70395742732560] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_062217.log:2024-04-21 06:40:24.491 200.100.252.240(44810) elcs elcszsc [70394327089424] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_062217.log:2024-04-21 07:10:24.572 200.100.252.240(46264) elcs elcszsc [70392908955920] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_124254.log:2024-04-21 13:40:24.695 200.100.252.240(36902) elcs elcszsc [70396495282448] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_124254.log:2024-04-21 13:40:24.790 200.100.252.240(36904) elcs elcszsc [70399504236816] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_190125.log:2024-04-21 19:10:24.862 200.100.252.240(52874) elcs elcszsc [70406132482320] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_190125.log:2024-04-21 19:10:24.935 200.100.252.240(52876) elcs elcszsc [70389865267472] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_190125.log:2024-04-21 19:46:04.915 172.21.1.38(50926) elcs elcsuat [70394039320848] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_210728.log:2024-04-21 21:10:24.993 200.100.252.240(58684) elcs elcszsc [70394119143696] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_210728.log:2024-04-21 22:10:25.079 200.100.252.240(33354) elcs elcszsc [70396589850896] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_210728.log:2024-04-21 22:10:25.177 200.100.252.240(33356) elcs elcszsc [70392702976272] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_210728.log:2024-04-21 22:10:25.194 200.100.252.240(33358) elcs elcszsc [70395301347600] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_210728.log:2024-04-21 22:10:25.211 200.100.252.240(33360) elcs elcszsc [70396001272080] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_210728.log:2024-04-21 22:10:25.228 200.100.252.240(33362) elcs elcszsc [70398689886480] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_210728.log:2024-04-21 22:10:25.245 200.100.252.240(33364) elcs elcszsc [70400246956304] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-21_210728.log:2024-04-21 22:10:25.263 200.100.252.240(33366) elcs elcszsc [70400406602000] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_000000.log:2024-04-22 01:10:25.310 200.100.252.240(42080) elcs elcszsc [70389243330832] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_020636.log:2024-04-22 03:10:25.433 200.100.252.240(47892) elcs elcszsc [70390401614096] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_020636.log:2024-04-22 03:10:25.606 200.100.252.240(47894) elcs elcszsc [70395360198928] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_020636.log:2024-04-22 03:40:25.628 200.100.252.240(49344) elcs elcszsc [70396644507920] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_041237.log:2024-04-22 05:40:25.746 200.100.252.240(55156) elcs elcszsc [70395255079184] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_061739.log:2024-04-22 06:40:25.853 200.100.252.240(58058) elcs elcszsc [70390317531408] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_082225.log:2024-04-22 08:40:25.959 200.100.252.240(35634) elcs elcszsc [70402799321360] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_102723.log:2024-04-22 10:40:26.074 200.100.252.240(41440) elcs elcszsc [70389962981648] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_102723.log:2024-04-22 10:40:26.173 200.100.252.240(41442) elcs elcszsc [70393589743888] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_102723.log:2024-04-22 11:40:26.205 200.100.252.240(44350) elcs elcszsc [70394257752336] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_102723.log:2024-04-22 11:40:26.286 200.100.252.240(44352) elcs elcszsc [70396032794896] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_123158.log:2024-04-22 13:10:26.319 200.100.252.240(48706) elcs elcszsc [70393736806672] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_123158.log:2024-04-22 13:10:26.390 200.100.252.240(48708) elcs elcszsc [70388554154256] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_123158.log:2024-04-22 13:10:26.408 200.100.252.240(48710) elcs elcszsc [70396095840528] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_123158.log:2024-04-22 13:10:26.426 200.100.252.240(48712) elcs elcszsc [70396207251728] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_123158.log:2024-04-22 14:10:26.461 200.100.252.240(51614) elcs elcszsc [70393816629520] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_123158.log:2024-04-22 14:10:26.527 200.100.252.240(51616) elcs elcszsc [70389386199312] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_123158.log:2024-04-22 14:10:26.542 200.100.252.240(51618) elcs elcszsc [70397690265872] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_143632.log:2024-04-22 15:40:26.572 200.100.252.240(55978) elcs elcszsc [70390623518992] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_143632.log:2024-04-22 15:40:26.701 200.100.252.240(55980) elcs elcszsc [70388384547088] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_143632.log:2024-04-22 15:40:26.719 200.100.252.240(55982) elcs elcszsc [70392631542032] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_143632.log:2024-04-22 15:40:26.737 200.100.252.240(55984) elcs elcszsc [70395477901584] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_143632.log:2024-04-22 15:40:26.756 200.100.252.240(55986) elcs elcszsc [70396400714000] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_143632.log:2024-04-22 15:40:26.775 200.100.252.240(55988) elcs elcszsc [70397480222992] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_143632.log:2024-04-22 15:40:26.795 200.100.252.240(55990) elcs elcszsc [70397942382864] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_205011.log:2024-04-22 21:40:26.873 200.100.252.240(45180) elcs elcszsc [70389457633552] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_205011.log:2024-04-22 22:10:26.972 200.100.252.240(46630) elcs elcszsc [70394688389392] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_205011.log:2024-04-22 22:10:26.990 200.100.252.240(46632) elcs elcszsc [70393196855568] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_225451.log:2024-04-22 23:10:27.026 200.100.252.240(49534) elcs elcszsc [70390531965200] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-22_225451.log:2024-04-22 23:10:27.134 200.100.252.240(49540) elcs elcszsc [70393850249488] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_000000.log:2024-04-23 01:40:27.171 200.100.252.240(56802) elcs elcszsc [70391949443344] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_000000.log:2024-04-23 01:40:27.273 200.100.252.240(56804) elcs elcszsc [70395225653520] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_020450.log:2024-04-23 02:10:27.295 200.100.252.240(58254) elcs elcszsc [70396432236816] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_020450.log:2024-04-23 03:40:27.360 200.100.252.240(34382) elcs elcszsc [70388707574032] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_040924.log:2024-04-23 04:10:27.403 200.100.252.240(35836) elcs elcszsc [70392963612944] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_040924.log:2024-04-23 05:10:27.451 200.100.252.240(38738) elcs elcszsc [70389529067792] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_061410.log:2024-04-23 06:40:27.540 200.100.252.240(43098) elcs elcszsc [70388583579920] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_061410.log:2024-04-23 06:40:27.619 200.100.252.240(43100) elcs elcszsc [70388619297040] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_061410.log:2024-04-23 06:40:27.638 200.100.252.240(43102) elcs elcszsc [70406573801744] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 08:40:27.677 200.100.252.240(48910) elcs elcszsc [70389064745232] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 08:40:27.748 200.100.252.240(48912) elcs elcszsc [70390462562576] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.421 200.100.252.240(50636) elcs elcszsc [70394589626640] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.548 200.100.252.240(50638) elcs elcszsc [70394589626640] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.576 200.100.252.240(50640) elcs elcszsc [70387467698448] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.599 200.100.252.240(50642) elcs elcszsc [70388384547088] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.621 200.100.252.240(50644) elcs elcszsc [70388554154256] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.647 200.100.252.240(50646) elcs elcszsc [70388583579920] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.673 200.100.252.240(50648) elcs elcszsc [70388619297040] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.696 200.100.252.240(50650) elcs elcszsc [70388707574032] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.717 200.100.252.240(50652) elcs elcszsc [70389064745232] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.739 200.100.252.240(50654) elcs elcszsc [70389243330832] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.763 200.100.252.240(50656) elcs elcszsc [70389457633552] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.785 200.100.252.240(50658) elcs elcszsc [70389529067792] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.813 200.100.252.240(50660) elcs elcszsc [70389386199312] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.837 200.100.252.240(50662) elcs elcszsc [70389865267472] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.863 200.100.252.240(50664) elcs elcszsc [70389962981648] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.886 200.100.252.240(50666) elcs elcszsc [70390317531408] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.915 200.100.252.240(50668) elcs elcszsc [70390401614096] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.937 200.100.252.240(50670) elcs elcszsc [70390462562576] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.960 200.100.252.240(50672) elcs elcszsc [70390531965200] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:56.982 200.100.252.240(50674) elcs elcszsc [70390623518992] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.006 200.100.252.240(50676) elcs elcszsc [70390921969936] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.026 200.100.252.240(50678) elcs elcszsc [70391949443344] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.049 200.100.252.240(50680) elcs elcszsc [70392631542032] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.069 200.100.252.240(50682) elcs elcszsc [70392702976272] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.089 200.100.252.240(50684) elcs elcszsc [70392908955920] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.109 200.100.252.240(50686) elcs elcszsc [70392963612944] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.129 200.100.252.240(50688) elcs elcszsc [70393089704208] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.149 200.100.252.240(50690) elcs elcszsc [70393125421328] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.172 200.100.252.240(50692) elcs elcszsc [70393161138448] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.192 200.100.252.240(50694) elcs elcszsc [70393196855568] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.213 200.100.252.240(50696) elcs elcszsc [70393232572688] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.241 200.100.252.240(50698) elcs elcszsc [70393339724048] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.262 200.100.252.240(50700) elcs elcszsc [70393375441168] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.283 200.100.252.240(50702) elcs elcszsc [70393518309648] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.304 200.100.252.240(50704) elcs elcszsc [70393589743888] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.324 200.100.252.240(50706) elcs elcszsc [70393661178128] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.344 200.100.252.240(50708) elcs elcszsc [70393736806672] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.365 200.100.252.240(50710) elcs elcszsc [70393816629520] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.386 200.100.252.240(50712) elcs elcszsc [70393850249488] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.406 200.100.252.240(50714) elcs elcszsc [70393969983760] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.429 200.100.252.240(50716) elcs elcszsc [70394009895184] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.452 200.100.252.240(50718) elcs elcszsc [70394119143696] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.475 200.100.252.240(50720) elcs elcszsc [70394257752336] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.504 200.100.252.240(50722) elcs elcszsc [70394327089424] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.529 200.100.252.240(50724) elcs elcszsc [70394367000848] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.548 200.100.252.240(50726) elcs elcszsc [70394658963728] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.568 200.100.252.240(50728) elcs elcszsc [70394688389392] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.592 200.100.252.240(50730) elcs elcszsc [70394897711376] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.611 200.100.252.240(50732) elcs elcszsc [70395107950864] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.630 200.100.252.240(50734) elcs elcszsc [70395225653520] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.648 200.100.252.240(50736) elcs elcszsc [70395255079184] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.667 200.100.252.240(50738) elcs elcszsc [70395301347600] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.686 200.100.252.240(50740) elcs elcszsc [70395360198928] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.709 200.100.252.240(50742) elcs elcszsc [70395477901584] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.729 200.100.252.240(50744) elcs elcszsc [70395742732560] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.749 200.100.252.240(50746) elcs elcszsc [70395984429328] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.768 200.100.252.240(50748) elcs elcszsc [70396001272080] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.786 200.100.252.240(50750) elcs elcszsc [70396032794896] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.804 200.100.252.240(50752) elcs elcszsc [70396095840528] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.822 200.100.252.240(50754) elcs elcszsc [70396207251728] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.841 200.100.252.240(50756) elcs elcszsc [70396260729104] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.859 200.100.252.240(50758) elcs elcszsc [70396400714000] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.878 200.100.252.240(50760) elcs elcszsc [70396432236816] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.897 200.100.252.240(50762) elcs elcszsc [70396463759632] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.922 200.100.252.240(50764) elcs elcszsc [70396495282448] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.944 200.100.252.240(50766) elcs elcszsc [70396558328080] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.965 200.100.252.240(50768) elcs elcszsc [70396589850896] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:57.987 200.100.252.240(50770) elcs elcszsc [70396644507920] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.021 200.100.252.240(50772) elcs elcszsc [70396728656144] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.043 200.100.252.240(50774) elcs elcszsc [70396760178960] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.064 200.100.252.240(50776) elcs elcszsc [70396839936272] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.084 200.100.252.240(50778) elcs elcszsc [70396949184784] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.105 200.100.252.240(50780) elcs elcszsc [70396980707600] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.125 200.100.252.240(50782) elcs elcszsc [70397131768080] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.147 200.100.252.240(50784) elcs elcszsc [70397211525392] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.173 200.100.252.240(50786) elcs elcszsc [70397480222992] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.197 200.100.252.240(50788) elcs elcszsc [70397690265872] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.217 200.100.252.240(50790) elcs elcszsc [70396627665168] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.237 200.100.252.240(50792) elcs elcszsc [70397732405520] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.268 200.100.252.240(50794) elcs elcszsc [70397866754320] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:00:58.288 200.100.252.240(50796) elcs elcszsc [70397883597072] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:30:16.259 172.21.1.38(53273) elcs elcszsc [70390582493456] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:30:16.443 172.21.1.38(53274) elcs elcszsc [70396238774544] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:30:16.765 172.21.1.38(53276) elcs elcszsc [70395683881232] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:43:18.951 200.100.252.109(44718) elcs elcsuat [70392511611152] 0 [BACKEND] ERROR:  relation "crefftapplyfo" does not exist on node1 at character 39
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:55:46.788 172.21.1.38(57354) elcs elcsuat [70395952906512] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:55:46.951 172.21.1.38(57356) elcs elcsuat [70395952906512] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:55:46.985 172.21.1.38(57357) elcs elcsuat [70400360268048] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:00.380 172.21.1.38(57382) elcs elcsuat [70398819975440] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:00.667 172.21.1.38(57386) elcs elcsuat [70395860435216] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:00.759 172.21.1.38(57391) elcs elcsuat [70395713306896] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:00.797 172.21.1.38(57393) elcs elcsuat [70400406602000] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:00.830 172.21.1.38(57394) elcs elcsuat [70400469582096] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:01.102 172.21.1.38(57396) elcs elcsuat [70400621035792] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:01.124 172.21.1.38(57397) elcs elcsuat [70400700793104] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:01.132 172.21.1.38(57398) elcs elcsuat [70400742801680] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:01.205 172.21.1.38(57399) elcs elcsuat [70401347240208] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:01.221 172.21.1.38(57400) elcs elcsuat [70401624195344] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:01.253 172.21.1.38(57401) elcs elcsuat [70401930445072] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:01.316 172.21.1.38(57404) elcs elcsuat [70402236825872] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:01.428 172.21.1.38(57405) elcs elcsuat [70402652389648] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:01.510 172.21.1.38(57406) elcs elcsuat [70402690203920] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:56:01.620 172.21.1.38(57407) elcs elcsuat [70402799321360] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:59:04.116 172.21.1.38(57879) elcs elcsuat [70405821645072] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 09:59:36.191 172.21.1.38(57960) elcs elcsuat [70405741887760] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 10:00:08.480 172.21.1.38(58040) elcs elcsuat [70406317228304] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_081846.log:2024-04-23 10:18:52.480 172.21.1.38(60989) elcs elcsuat [70393411158288] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:33:03.839 172.21.1.38(63249) elcs elcsuat [70390378479888] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:50.837 200.100.252.109(53174) elcs elcsuat [70389029028112] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:50.947 200.100.252.109(53176) elcs elcsuat [70389029028112] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:50.975 200.100.252.109(53178) elcs elcsuat [70389100462352] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:50.997 200.100.252.109(53180) elcs elcsuat [70389136179472] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.020 200.100.252.109(53182) elcs elcsuat [70389171896592] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.046 200.100.252.109(53184) elcs elcsuat [70389207613712] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.073 200.100.252.109(53186) elcs elcsuat [70389279047952] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.100 200.100.252.109(53188) elcs elcsuat [70389314765072] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.121 200.100.252.109(53190) elcs elcsuat [70389350482192] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.146 200.100.252.109(53192) elcs elcsuat [70389493350672] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.173 200.100.252.109(53194) elcs elcsuat [70389564784912] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.192 200.100.252.109(53196) elcs elcsuat [70389600502032] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.213 200.100.252.109(53198) elcs elcsuat [70389636219152] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.234 200.100.252.109(53200) elcs elcsuat [70389671936272] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.254 200.100.252.109(53202) elcs elcsuat [70389707653392] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.276 200.100.252.109(53204) elcs elcsuat [70389740224784] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.298 200.100.252.109(53206) elcs elcsuat [70389805367568] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.326 200.100.252.109(53208) elcs elcsuat [70389897838864] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.346 200.100.252.109(53210) elcs elcsuat [70389930410256] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.367 200.100.252.109(53212) elcs elcsuat [70389995553040] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.390 200.100.252.109(53214) elcs elcsuat [70390093267216] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.412 200.100.252.109(53216) elcs elcsuat [70390166798608] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.434 200.100.252.109(53218) elcs elcsuat [70390254485776] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.455 200.100.252.109(53220) elcs elcsuat [70390345908496] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.477 200.100.252.109(53222) elcs elcsuat [70390498279696] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.499 200.100.252.109(53224) elcs elcsuat [70390548807952] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.522 200.100.252.109(53226) elcs elcsuat [70390565650704] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.544 200.100.252.109(53228) elcs elcsuat [70390599336208] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.566 200.100.252.109(53230) elcs elcsuat [70390647701776] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.588 200.100.252.109(53232) elcs elcsuat [70390678176016] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.609 200.100.252.109(53234) elcs elcsuat [70390708650256] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.642 200.100.252.109(53236) elcs elcsuat [70390739124496] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.662 200.100.252.109(53238) elcs elcsuat [70390769598736] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.680 200.100.252.109(53240) elcs elcsuat [70390800072976] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.700 200.100.252.109(53242) elcs elcsuat [70390830547216] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.718 200.100.252.109(53244) elcs elcsuat [70390952444176] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.738 200.100.252.109(53246) elcs elcsuat [70390982918416] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.763 200.100.252.109(53248) elcs elcsuat [70391013392656] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.785 200.100.252.109(53250) elcs elcsuat [70391128801552] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.813 200.100.252.109(53252) elcs elcsuat [70391159275792] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.841 200.100.252.109(53254) elcs elcsuat [70391189750032] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.861 200.100.252.109(53256) elcs elcsuat [70391220224272] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.881 200.100.252.109(53258) elcs elcsuat [70391250698512] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.904 200.100.252.109(53260) elcs elcsuat [70391281172752] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.925 200.100.252.109(53262) elcs elcsuat [70391311646992] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.947 200.100.252.109(53264) elcs elcsuat [70391342121232] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.967 200.100.252.109(53266) elcs elcsuat [70391372595472] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:51.987 200.100.252.109(53268) elcs elcsuat [70391403069712] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.006 200.100.252.109(53270) elcs elcsuat [70391433543952] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.026 200.100.252.109(53272) elcs elcsuat [70391464018192] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.046 200.100.252.109(53274) elcs elcsuat [70391494492432] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.065 200.100.252.109(53276) elcs elcsuat [70391524966672] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.084 200.100.252.109(53278) elcs elcsuat [70391555440912] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.104 200.100.252.109(53280) elcs elcsuat [70391585915152] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.124 200.100.252.109(53282) elcs elcsuat [70391616389392] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.144 200.100.252.109(53284) elcs elcsuat [70391646863632] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.165 200.100.252.109(53286) elcs elcsuat [70391677337872] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.184 200.100.252.109(53288) elcs elcsuat [70391709909264] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.203 200.100.252.109(53290) elcs elcsuat [70391742480656] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.225 200.100.252.109(53292) elcs elcsuat [70391775052048] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.245 200.100.252.109(53294) elcs elcsuat [70391819157776] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.268 200.100.252.109(53296) elcs elcsuat [70391851729168] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.288 200.100.252.109(53298) elcs elcsuat [70391884300560] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.315 200.100.252.109(53300) elcs elcsuat [70391916871952] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.340 200.100.252.109(53302) elcs elcsuat [70391976771856] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.368 200.100.252.109(53304) elcs elcsuat [70392009343248] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.389 200.100.252.109(53306) elcs elcsuat [70392041914640] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.407 200.100.252.109(53308) elcs elcsuat [70392074486032] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.428 200.100.252.109(53310) elcs elcsuat [70392107057424] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.448 200.100.252.109(53312) elcs elcsuat [70392123900176] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.469 200.100.252.109(53314) elcs elcsuat [70392149131536] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.490 200.100.252.109(53316) elcs elcsuat [70392184848656] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.531 200.100.252.109(53318) elcs elcsuat [70392217420048] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.551 200.100.252.109(53320) elcs elcsuat [70392253137168] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.571 200.100.252.109(53322) elcs elcsuat [70392285708560] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.591 200.100.252.109(53324) elcs elcsuat [70392318279952] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.611 200.100.252.109(53326) elcs elcsuat [70392350851344] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.631 200.100.252.109(53328) elcs elcsuat [70392383422736] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.651 200.100.252.109(53330) elcs elcsuat [70392419139856] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.670 200.100.252.109(53332) elcs elcsuat [70392454856976] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.690 200.100.252.109(53334) elcs elcsuat [70392480088336] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.709 200.100.252.109(53336) elcs elcsuat [70392511611152] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.729 200.100.252.109(53338) elcs elcsuat [70392528453904] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.748 200.100.252.109(53340) elcs elcsuat [70392545296656] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.768 200.100.252.109(53342) elcs elcsuat [70392562139408] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.795 200.100.252.109(53344) elcs elcsuat [70392578982160] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.818 200.100.252.109(53346) elcs elcsuat [70392667259152] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.851 200.100.252.109(53348) elcs elcsuat [70392738693392] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.872 200.100.252.109(53350) elcs elcsuat [70392766021904] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.891 200.100.252.109(53352) elcs elcsuat [70392801739024] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.911 200.100.252.109(53354) elcs elcsuat [70392837456144] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.936 200.100.252.109(53356) elcs elcsuat [70392854298896] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.954 200.100.252.109(53358) elcs elcsuat [70392881627408] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:52.973 200.100.252.109(53360) elcs elcsuat [70392936284432] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:53.003 200.100.252.109(53362) elcs elcsuat [70392999330064] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:53.021 200.100.252.109(53364) elcs elcsuat [70393026658576] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:53.039 200.100.252.109(53366) elcs elcsuat [70393482592528] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:53.058 200.100.252.109(53368) elcs elcsuat [70393625461008] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:53.078 200.100.252.109(53370) elcs elcsuat [70396661350672] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:53.098 200.100.252.109(53372) elcs elcsuat [70398364434704] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 10:50:53.128 200.100.252.109(53374) elcs elcsuat [70406367887632] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 11:00:58.337 200.100.252.240(56614) elcs elcszsc [70388993310992] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 11:00:58.419 200.100.252.240(56616) elcs elcszsc [70393776718096] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 13:00:58.454 200.100.252.240(34196) elcs elcszsc [70399399248144] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_102156.log:2024-04-23 13:30:58.478 200.100.252.240(35646) elcs elcszsc [70406132482320] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9
/data/vastdata/pg_log/postgresql-2024-04-23_151030.log:2024-04-23 15:30:58.514 200.100.252.240(41454) elcs elcszsc [70399504236816] 0 [BACKEND] ERROR:  function vb_version() does not exist at character 9</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=recent_db_log-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库日志无异常报错是数据库运行稳定的表现，日志中需要重点检查近期的FATAL、ERROR报错信息，如存在此类错误信息，进一步排查报错原因及影响
		</div>
		</div></br>
<h3 id=cache_hit>缓存命中率检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_cache_hit'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-cache_hit","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-cache_hit' class='detail-text-get'> datname  |         ratio         
----------+-----------------------
 elcs     | .99994761775405450635
 vastbase | .99979935688015255585
(2 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=cache_hit-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		检查数据库缓存命中率，如果数据库的缓存命中过低，可能是由于内存参数配置不合理或业务应用不合理导致，建议缓存命中率大于90%
		</div>
		</div></br>
<h3 id=db_extension>插件检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_extension'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_extension","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_extension' class='detail-text-get'>数据库 vastbase 插件列表如下
  current_database |      extname       
------------------+--------------------
 vastbase         | plpgsql
 vastbase         | mot_fdw
 vastbase         | file_fdw
 vastbase         | security_plugin
 vastbase         | pg_stat_statements
 vastbase         | pg_zhtrgm
(6 rows)

数据库 postgres 插件列表如下
  current_database |      extname       
------------------+--------------------
 postgres         | plpgsql
 postgres         | mot_fdw
 postgres         | file_fdw
 postgres         | security_plugin
 postgres         | pg_stat_statements
 postgres         | pg_zhtrgm
(6 rows)

数据库 elcs 插件列表如下
  current_database |      extname       
------------------+--------------------
 elcs             | plpgsql
 elcs             | mot_fdw
 elcs             | file_fdw
 elcs             | security_plugin
 elcs             | pg_stat_statements
 elcs             | pg_zhtrgm
 elcs             | pgstattuple
(7 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_extension-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库插件的使用，需要根据业务实际使用需求进行安装，常用标准化数据库插件包括：<br>pg_stat_statements<br>plpgsql<br>security_plugin
		</div>
		</div></br>
<h3 id=db_long_tranction>长事务检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_long_tranction'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_long_tranction","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_long_tranction' class='detail-text-get'>数据库 vastbase 没有超过 30mins 的长事务
 datid | datname | pid | sessionid | usesysid | usename | application_name | client_addr | client_hostname | client_port | backend_start | xact_start | query_start | state_change | waiting | enqueue | state | resource_pool | query_id | query | connection_info | unique_sql_id | trace_id 
-------+---------+-----+-----------+----------+---------+------------------+-------------+-----------------+-------------+---------------+------------+-------------+--------------+---------+---------+-------+---------------+----------+-------+-----------------+---------------+----------
(0 rows)

数据库 postgres 没有超过 30mins 的长事务
 datid | datname | pid | sessionid | usesysid | usename | application_name | client_addr | client_hostname | client_port | backend_start | xact_start | query_start | state_change | waiting | enqueue | state | resource_pool | query_id | query | connection_info | unique_sql_id | trace_id 
-------+---------+-----+-----------+----------+---------+------------------+-------------+-----------------+-------------+---------------+------------+-------------+--------------+---------+---------+-------+---------------+----------+-------+-----------------+---------------+----------
(0 rows)

数据库 elcs 没有超过 30mins 的长事务
 datid | datname | pid | sessionid | usesysid | usename | application_name | client_addr | client_hostname | client_port | backend_start | xact_start | query_start | state_change | waiting | enqueue | state | resource_pool | query_id | query | connection_info | unique_sql_id | trace_id 
-------+---------+-----+-----------+----------+---------+------------------+-------------+-----------------+-------------+---------------+------------+-------------+--------------+---------+---------+-------+---------------+----------+-------+-----------------+---------------+----------
(0 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_long_tranction-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库长事务可能会引起业务阻塞、系统资源不足，严重影响业务系统性能，甚至导致数据库宕机。<br>如果数据库中存在>30min的长事务，根据业务实际情况，进行优化或清理<br>select * from pg_stat_activity where state<>'idle' and datname not in ('vastbase','postgres','template0','template1') and now()-xact_start > interval '30 min'  order by xact_start
		</div>
		</div></br>
<h3 id=db_slow_sql>慢SQL检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_slow_sql'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_slow_sql","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_slow_sql' class='detail-text-get'>  userid  | datname | calls |     per_time     |                                                                                                                                                                                                                                                                                                                                                                                              query                                                                                                                                                                                                                                                                                                                                                                                              
----------+---------+-------+------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 vastbase | elcs    |     1 |        863672.27 | vacuum FULL ;
 vastbase | elcs    |     1 |        189527.36 | vacuum ANALYZE ;
 elcsuat  | elcs    |     3 |         3205.594 | SELECT COUNT(*) FROM ( select * from (select FFTASSTNO,FFTASSTREGNB,KZBANKNAME,HONOURAMOUNT,RATE,DATEOFPAYMENT,FFTREGRTYPE,ASSGNMTNBOFTMS,FFTASSTBIZTYPE,FFTTRDSTAT,FFTASSTSTAT,BANKCODE,TRANDATE,FFTASSTPSTNB from
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  | (select distinct GNFFT.FFTNO as FFTASSTNO,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |       ?AS FFTASSTREGNB,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |       PAORG.orgName AS KZBANKNAME,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |       GNFFT.ACPTAMT as HONOURAMOUNT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  | --      case when GNFFT.FFTRATE is not null then to_char(GNFFT.FFTRATE,'fm9999990.90') || '-' || to_char(GNFFT.FFTRATE,'fm9999990.90')
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | --      else '' end AS RATE,  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |   GNFFT.FFTRATE AS RATE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |       to_char(GNFFT.MATURYDATE,?)  AS  DATEOFPAYMENT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |       ? AS FFTREGRTYPE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |       ? AS ASSGNMTNBOFTMS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |       ?AS FFTASSTBIZTYPE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |       ? AS FFTTRDSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |       ?AS FFTASSTSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |       ? AS BANKCODE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |       ? AS ISYZMZCSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |       butxn.TRANDATE AS TRANDATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  |       ? as FFTASSTPSTNB 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |     from GNFFTFO GNFFT 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |   inner join GNLCCOLFO GNLCCOL  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |   on GNLCCOL.bizno = GNFFT.bpno 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |   left join PAORG PAORG  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |    ON GNLCCOL.BELONGORGNO = PAORG.orgno 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |   left join butxnAR butxn  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |     on GNLCCOL.txnNo=butxn.txnNo 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  |   left join PABIGPAYNO PABIGPAYNO  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |     on PABIGPAYNO.BANKNO=GNLCCOL.ELCSRcvBKBKCd  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |   where GNFFT.FFTNO IN (SELECT LOANBIZNO FROM BULOANSFO b)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |   AND GNFFT.FFTNO NOT IN (SELECT fft.fftasstno from FFTASSTINFO fft where fft.fftasstno = GNFFT.FFTNO)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |   and butxn.TRANORGNO= $1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  | UNION 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | SELECT  TYFFTFO.FFTNO as FFTASSTNO, ? AS FFTASSTREGNB,PAORG.orgName AS KZBANKNAME,TYFFTFO.acptAmt as HONOURAMOUNT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | --case when TYFFTFO.rate is not null then to_char(TYFFTFO.rate,'fm9999990.90') || '-' || to_char(TYFFTFO.rate,'fm9999990.90')
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  | --      else '' end AS RATE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  | TYFFTFO.rate as RATE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | TO_CHAR(TYFFTFO.matureDate,?) AS DATEOFPAYMENT,? AS FFTREGRTYPE,? AS ASSGNMTNBOFTMS,?AS FFTASSTBIZTYPE,? AS FFTTRDSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  | ? AS FFTASSTSTAT,? AS BANKCODE, ? AS ISYZMZCSTAT, butxn.TRANDATE AS TRANDATE , ? as FFTASSTPSTNB 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  | FROM TYFFTFO TYFFTFO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  | LEFT JOIN BUTXNAR butxn ON butxn.TXNNO = TYFFTFO.txnno
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | left join PAORG PAORG  on butxn.TRANORGNO = PAORG.orgno 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  | LEFT JOIN TYFFTPAYFO TYFFTPAYFO ON TYFFTPAYFO.FFTNO=TYFFTFO.FFTNO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  | left join PABIGPAYNO PABIGPAYNO  on PABIGPAYNO.BANKNO=TYFFTPAYFO.receBankBigNo
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  | WHERE TYFFTFO.ISZR IS NULL --没有转让
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  | AND TYFFTFO.FFTNO IN (SELECT b.FFTNO FROM TYFFTPAYFO b) --已经放款
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | AND NOT EXISTS (SELECT c.BIZNO FROM PBSTAFO c WHERE c.BIZNO = TYFFTFO.FFTNO AND c.ISCLOSE = ?) 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  | AND TYFFTFO.FFTNO NOT IN (SELECT fft.fftasstno from FFTASSTINFO fft where fft.fftasstno = TYFFTFO.FFTNO) 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  | and butxn.TRANORGNO= $2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  | UNION
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  | select DISTINCT a.FFTASSTNO AS FFTASSTNO,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |     a.FFTASSTREGNB AS FFTASSTREGNB,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |      a.BANKNAME AS KZBANKNAME,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  CASE WHEN a.HONOURAMOUNT IS NOT NULL 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  THEN 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  a.HONOURAMOUNT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |      --  WHEN a.HONOURAMOUNT IS NULL AND b.ACPTAMT IS NOT NULL 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |      --  THEN 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  b.ACPTAMT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |      --  WHEN a.HONOURAMOUNT IS NULL AND b.ACPTAMT IS NULL AND d.ACPTAMT IS NOT NULL 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |      --  THEN 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  d.ACPTAMT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |      --  END  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |       f.FFTDEALAMT AS HONOURAMOUNT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |        --(Concat(Concat(a.MAXIMUMRATE, '-'), a.MINIMUMRATE)) RATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | --       case when a.MINIMUMRATE is not null then to_char(a.MAXIMUMRATE,'fm9999990.90') || '-' || to_char(a.MINIMUMRATE,'fm9999990.90')
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  | --      else '' end AS RATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |         f.FFTRATE AS RATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |      --  TO_CHAR(a.DATEOFPAYMENT,'yyyy-MM-dd') AS DATEOFPAYMENT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |        f.FFTRZDATE AS DATEOFPAYMENT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         a.FFTREGRTYPE AS FFTREGRTYPE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |         a.ASSGNMTNBOFTMS AS ASSGNMTNBOFTMS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |          a.FFTASSTBIZTYPE AS FFTASSTBIZTYPE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |          a.FFTTRDSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |        a.FFTASSTSTAT AS FFTASSTSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |      a.INBANKCODE AS BANKCODE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      ? AS ISYZMZCSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |      e.TRANDATE AS TRANDATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |      a.FFTASSTPSTNB AS FFTASSTPSTNB 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |   from FFTASSTINFO a 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |   LEFT JOIN TYFFTFO b 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |   ON b.FFTNO = a.FFTASSTNO 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |   LEFT JOIN GNFFTFO d 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |    ON d.FFTNO = a.FFTASSTNO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |   LEFT JOIN BUTXNAR e 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |     ON e.TXNNO = a.TXNNO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |   LEFT JOIN FFTZCDETAIL f
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |   on f.ffttxno = a.fftasstno
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |    where a.fftbs=? 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |    and a.tranorgno= $3 and ((a.FFTASSTSTAT != ? and a.FFTASSTSTAT != ? ) or a.FFTASSTSTAT IS NULL)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | UNION
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  | select DISTINCT a.FFTASSTNO AS FFTASSTNO,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |     a.FFTASSTREGNB 
 elcsuat  | elcs    |     3 | 3202.90966666667 | select *  FROM ( SELECT TEAP_TABLE.*, ROWNUM ROWNUM_ FROM ( select * from (select FFTASSTNO,FFTASSTREGNB,KZBANKNAME,HONOURAMOUNT,RATE,DATEOFPAYMENT,FFTREGRTYPE,ASSGNMTNBOFTMS,FFTASSTBIZTYPE,FFTTRDSTAT,FFTASSTSTAT,BANKCODE,TRANDATE,FFTASSTPSTNB from
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  | (select distinct GNFFT.FFTNO as FFTASSTNO,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |       ?AS FFTASSTREGNB,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |       PAORG.orgName AS KZBANKNAME,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |       GNFFT.ACPTAMT as HONOURAMOUNT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  | --      case when GNFFT.FFTRATE is not null then to_char(GNFFT.FFTRATE,'fm9999990.90') || '-' || to_char(GNFFT.FFTRATE,'fm9999990.90')
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | --      else '' end AS RATE,  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |   GNFFT.FFTRATE AS RATE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |       to_char(GNFFT.MATURYDATE,?)  AS  DATEOFPAYMENT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |       ? AS FFTREGRTYPE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |       ? AS ASSGNMTNBOFTMS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |       ?AS FFTASSTBIZTYPE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |       ? AS FFTTRDSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |       ?AS FFTASSTSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |       ? AS BANKCODE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |       ? AS ISYZMZCSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |       butxn.TRANDATE AS TRANDATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  |       ? as FFTASSTPSTNB 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |     from GNFFTFO GNFFT 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |   inner join GNLCCOLFO GNLCCOL  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |   on GNLCCOL.bizno = GNFFT.bpno 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |   left join PAORG PAORG  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |    ON GNLCCOL.BELONGORGNO = PAORG.orgno 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |   left join butxnAR butxn  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |     on GNLCCOL.txnNo=butxn.txnNo 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  |   left join PABIGPAYNO PABIGPAYNO  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |     on PABIGPAYNO.BANKNO=GNLCCOL.ELCSRcvBKBKCd  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |   where GNFFT.FFTNO IN (SELECT LOANBIZNO FROM BULOANSFO b)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |   AND GNFFT.FFTNO NOT IN (SELECT fft.fftasstno from FFTASSTINFO fft where fft.fftasstno = GNFFT.FFTNO)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |   and butxn.TRANORGNO= $1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  | UNION 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | SELECT  TYFFTFO.FFTNO as FFTASSTNO, ? AS FFTASSTREGNB,PAORG.orgName AS KZBANKNAME,TYFFTFO.acptAmt as HONOURAMOUNT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | --case when TYFFTFO.rate is not null then to_char(TYFFTFO.rate,'fm9999990.90') || '-' || to_char(TYFFTFO.rate,'fm9999990.90')
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  | --      else '' end AS RATE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  | TYFFTFO.rate as RATE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | TO_CHAR(TYFFTFO.matureDate,?) AS DATEOFPAYMENT,? AS FFTREGRTYPE,? AS ASSGNMTNBOFTMS,?AS FFTASSTBIZTYPE,? AS FFTTRDSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  | ? AS FFTASSTSTAT,? AS BANKCODE, ? AS ISYZMZCSTAT, butxn.TRANDATE AS TRANDATE , ? as FFTASSTPSTNB 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  | FROM TYFFTFO TYFFTFO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  | LEFT JOIN BUTXNAR butxn ON butxn.TXNNO = TYFFTFO.txnno
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | left join PAORG PAORG  on butxn.TRANORGNO = PAORG.orgno 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  | LEFT JOIN TYFFTPAYFO TYFFTPAYFO ON TYFFTPAYFO.FFTNO=TYFFTFO.FFTNO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  | left join PABIGPAYNO PABIGPAYNO  on PABIGPAYNO.BANKNO=TYFFTPAYFO.receBankBigNo
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  | WHERE TYFFTFO.ISZR IS NULL --没有转让
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  | AND TYFFTFO.FFTNO IN (SELECT b.FFTNO FROM TYFFTPAYFO b) --已经放款
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | AND NOT EXISTS (SELECT c.BIZNO FROM PBSTAFO c WHERE c.BIZNO = TYFFTFO.FFTNO AND c.ISCLOSE = ?) 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  | AND TYFFTFO.FFTNO NOT IN (SELECT fft.fftasstno from FFTASSTINFO fft where fft.fftasstno = TYFFTFO.FFTNO) 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  | and butxn.TRANORGNO= $2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  | UNION
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  | select DISTINCT a.FFTASSTNO AS FFTASSTNO,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |     a.FFTASSTREGNB AS FFTASSTREGNB,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |      a.BANKNAME AS KZBANKNAME,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  CASE WHEN a.HONOURAMOUNT IS NOT NULL 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  THEN 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  a.HONOURAMOUNT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |      --  WHEN a.HONOURAMOUNT IS NULL AND b.ACPTAMT IS NOT NULL 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |      --  THEN 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  b.ACPTAMT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |      --  WHEN a.HONOURAMOUNT IS NULL AND b.ACPTAMT IS NULL AND d.ACPTAMT IS NOT NULL 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |      --  THEN 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  d.ACPTAMT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |      --  END  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |       f.FFTDEALAMT AS HONOURAMOUNT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |        --(Concat(Concat(a.MAXIMUMRATE, '-'), a.MINIMUMRATE)) RATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | --       case when a.MINIMUMRATE is not null then to_char(a.MAXIMUMRATE,'fm9999990.90') || '-' || to_char(a.MINIMUMRATE,'fm9999990.90')
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  | --      else '' end AS RATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |         f.FFTRATE AS RATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |      --  TO_CHAR(a.DATEOFPAYMENT,'yyyy-MM-dd') AS DATEOFPAYMENT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |        f.FFTRZDATE AS DATEOFPAYMENT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         a.FFTREGRTYPE AS FFTREGRTYPE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |         a.ASSGNMTNBOFTMS AS ASSGNMTNBOFTMS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |          a.FFTASSTBIZTYPE AS FFTASSTBIZTYPE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |          a.FFTTRDSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |        a.FFTASSTSTAT AS FFTASSTSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |      a.INBANKCODE AS BANKCODE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      ? AS ISYZMZCSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |      e.TRANDATE AS TRANDATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |      a.FFTASSTPSTNB AS FFTASSTPSTNB 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |   from FFTASSTINFO a 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |   LEFT JOIN TYFFTFO b 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |   ON b.FFTNO = a.FFTASSTNO 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |   LEFT JOIN GNFFTFO d 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |    ON d.FFTNO = a.FFTASSTNO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |   LEFT JOIN BUTXNAR e 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |     ON e.TXNNO = a.TXNNO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |   LEFT JOIN FFTZCDETAIL f
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |   on f.ffttxno = a.fftasstno
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |    where a.fftbs=? 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |    and a.tranorgno= $3 and ((a.FFTASSTSTAT != ? and a.FFTASSTSTAT != ? ) or a.FFTASSTSTAT IS NULL)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | UNION
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  | select DISTINCT a.FFTASST
 elcsuat  | elcs    |    10 |        2937.3699 | SELECT COUNT(*) FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (                                       +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |                 AND BIZNO NOT in (SELECT a.abbkbizno  FROM GNLCSINGPAYFO s , gnlcabfo a where s.bizNo=a.abno) --没做单笔扣款                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |   )and butxnar_.tranorgno in (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)  order by butxnar_.curtbizno desc ) tmp
 elcsuat  | elcs    |    10 |        2920.6436 | select *  FROM ( SELECT TEAP_TABLE.*, ROWNUM ROWNUM_ FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (  +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |                 AND BIZNO NOT in (SELECT a.abbkbizno  FROM GNLCSINGPAYFO s , gnlcabfo a where s.bizNo=a.abno) --没做单笔扣款                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |   )and butxnar_.tranorgno in (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)  order by butxnar_.curtbizno desc  )  TEAP_TABLE WHERE ROWNUM < $3 ) WHERE ROWNUM_ >= $4
 elcsuat  | elcs    |    11 | 2788.09654545455 | SELECT COUNT(*) FROM ( select * from (select FFTASSTNO,FFTASSTREGNB,KZBANKNAME,HONOURAMOUNT,RATE,DATEOFPAYMENT,FFTREGRTYPE,ASSGNMTNBOFTMS,FFTASSTBIZTYPE,FFTTRDSTAT,FFTASSTSTAT,BANKCODE,TRANDATE,FFTASSTPSTNB from
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  | (select distinct GNFFT.FFTNO as FFTASSTNO,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |       ?AS FFTASSTREGNB,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |       PAORG.orgName AS KZBANKNAME,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |       GNFFT.ACPTAMT as HONOURAMOUNT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  | --      case when GNFFT.FFTRATE is not null then to_char(GNFFT.FFTRATE,'fm9999990.90') || '-' || to_char(GNFFT.FFTRATE,'fm9999990.90')
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | --      else '' end AS RATE,  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |   GNFFT.FFTRATE AS RATE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |       to_char(GNFFT.MATURYDATE,?)  AS  DATEOFPAYMENT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |       ? AS FFTREGRTYPE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |       ? AS ASSGNMTNBOFTMS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |       ?AS FFTASSTBIZTYPE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |       ? AS FFTTRDSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |       ?AS FFTASSTSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |       ? AS BANKCODE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |       ? AS ISYZMZCSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |       butxn.TRANDATE AS TRANDATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  |       ? as FFTASSTPSTNB 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |     from GNFFTFO GNFFT 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |   inner join GNLCCOLFO GNLCCOL  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |   on GNLCCOL.bizno = GNFFT.bpno 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |   left join PAORG PAORG  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |    ON GNLCCOL.BELONGORGNO = PAORG.orgno 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |   left join butxnAR butxn  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |     on GNLCCOL.txnNo=butxn.txnNo 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  |   left join PABIGPAYNO PABIGPAYNO  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |     on PABIGPAYNO.BANKNO=GNLCCOL.ELCSRcvBKBKCd  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |   where GNFFT.FFTNO IN (SELECT LOANBIZNO FROM BULOANSFO b)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |   AND GNFFT.FFTNO NOT IN (SELECT fft.fftasstno from FFTASSTINFO fft where fft.fftasstno = GNFFT.FFTNO)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |   and butxn.TRANORGNO= $1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  | UNION 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | SELECT  TYFFTFO.FFTNO as FFTASSTNO, ? AS FFTASSTREGNB,PAORG.orgName AS KZBANKNAME,TYFFTFO.acptAmt as HONOURAMOUNT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | --case when TYFFTFO.rate is not null then to_char(TYFFTFO.rate,'fm9999990.90') || '-' || to_char(TYFFTFO.rate,'fm9999990.90')
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  | --      else '' end AS RATE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  | TYFFTFO.rate as RATE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | TO_CHAR(TYFFTFO.matureDate,?) AS DATEOFPAYMENT,? AS FFTREGRTYPE,? AS ASSGNMTNBOFTMS,?AS FFTASSTBIZTYPE,? AS FFTTRDSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  | ? AS FFTASSTSTAT,? AS BANKCODE, ? AS ISYZMZCSTAT, butxn.TRANDATE AS TRANDATE , ? as FFTASSTPSTNB 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  | FROM TYFFTFO TYFFTFO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  | LEFT JOIN BUTXNAR butxn ON butxn.TXNNO = TYFFTFO.txnno
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | left join PAORG PAORG  on butxn.TRANORGNO = PAORG.orgno 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  | LEFT JOIN TYFFTPAYFO TYFFTPAYFO ON TYFFTPAYFO.FFTNO=TYFFTFO.FFTNO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  | left join PABIGPAYNO PABIGPAYNO  on PABIGPAYNO.BANKNO=TYFFTPAYFO.receBankBigNo
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  | WHERE TYFFTFO.ISZR IS NULL --没有转让
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  | AND TYFFTFO.FFTNO IN (SELECT b.FFTNO FROM TYFFTPAYFO b) --已经放款
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | AND NOT EXISTS (SELECT c.BIZNO FROM PBSTAFO c WHERE c.BIZNO = TYFFTFO.FFTNO AND c.ISCLOSE = ?) 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  | AND TYFFTFO.FFTNO NOT IN (SELECT fft.fftasstno from FFTASSTINFO fft where fft.fftasstno = TYFFTFO.FFTNO) 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  | and butxn.TRANORGNO= $2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  | UNION
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  | select DISTINCT a.FFTASSTNO AS FFTASSTNO,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |     a.FFTASSTREGNB AS FFTASSTREGNB,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |      a.BANKNAME AS KZBANKNAME,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  CASE WHEN a.HONOURAMOUNT IS NOT NULL 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  THEN 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  a.HONOURAMOUNT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |      --  WHEN a.HONOURAMOUNT IS NULL AND b.ACPTAMT IS NOT NULL 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |      --  THEN 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  b.ACPTAMT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |      --  WHEN a.HONOURAMOUNT IS NULL AND b.ACPTAMT IS NULL AND d.ACPTAMT IS NOT NULL 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |      --  THEN 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  d.ACPTAMT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |      --  END  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |       f.FFTDEALAMT AS HONOURAMOUNT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |        --(Concat(Concat(a.MAXIMUMRATE, '-'), a.MINIMUMRATE)) RATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | --       case when a.MINIMUMRATE is not null then to_char(a.MAXIMUMRATE,'fm9999990.90') || '-' || to_char(a.MINIMUMRATE,'fm9999990.90')
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  | --      else '' end AS RATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |         f.FFTRATE AS RATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |      --  TO_CHAR(a.DATEOFPAYMENT,'yyyy-MM-dd') AS DATEOFPAYMENT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |        f.FFTRZDATE AS DATEOFPAYMENT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         a.FFTREGRTYPE AS FFTREGRTYPE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |         a.ASSGNMTNBOFTMS AS ASSGNMTNBOFTMS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |          a.FFTASSTBIZTYPE AS FFTASSTBIZTYPE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |          a.FFTTRDSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |        a.FFTASSTSTAT AS FFTASSTSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |      a.INBANKCODE AS BANKCODE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      ? AS ISYZMZCSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |      e.TRANDATE AS TRANDATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |      a.FFTASSTPSTNB AS FFTASSTPSTNB 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |   from FFTASSTINFO a 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |   LEFT JOIN TYFFTFO b 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |   ON b.FFTNO = a.FFTASSTNO 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |   LEFT JOIN GNFFTFO d 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |    ON d.FFTNO = a.FFTASSTNO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |   LEFT JOIN BUTXNAR e 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |     ON e.TXNNO = a.TXNNO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |   LEFT JOIN FFTZCDETAIL f
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |   on f.ffttxno = a.fftasstno
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |    where a.fftbs=? 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |    and a.tranorgno= $3 and ((a.FFTASSTSTAT != ? and a.FFTASSTSTAT != ? ) or a.FFTASSTSTAT IS NULL)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | UNION
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  | select DISTINCT a.FFTASSTNO AS FFTASSTNO,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |     a.FFTASSTREGNB 
 elcsuat  | elcs    |    11 | 2661.47845454545 | select *  FROM ( SELECT TEAP_TABLE.*, ROWNUM ROWNUM_ FROM ( select * from (select FFTASSTNO,FFTASSTREGNB,KZBANKNAME,HONOURAMOUNT,RATE,DATEOFPAYMENT,FFTREGRTYPE,ASSGNMTNBOFTMS,FFTASSTBIZTYPE,FFTTRDSTAT,FFTASSTSTAT,BANKCODE,TRANDATE,FFTASSTPSTNB from
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  | (select distinct GNFFT.FFTNO as FFTASSTNO,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |       ?AS FFTASSTREGNB,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |       PAORG.orgName AS KZBANKNAME,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |       GNFFT.ACPTAMT as HONOURAMOUNT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  | --      case when GNFFT.FFTRATE is not null then to_char(GNFFT.FFTRATE,'fm9999990.90') || '-' || to_char(GNFFT.FFTRATE,'fm9999990.90')
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | --      else '' end AS RATE,  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |   GNFFT.FFTRATE AS RATE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |       to_char(GNFFT.MATURYDATE,?)  AS  DATEOFPAYMENT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |       ? AS FFTREGRTYPE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |       ? AS ASSGNMTNBOFTMS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |       ?AS FFTASSTBIZTYPE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |       ? AS FFTTRDSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |       ?AS FFTASSTSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |       ? AS BANKCODE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |       ? AS ISYZMZCSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |       butxn.TRANDATE AS TRANDATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  |       ? as FFTASSTPSTNB 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |     from GNFFTFO GNFFT 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |   inner join GNLCCOLFO GNLCCOL  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |   on GNLCCOL.bizno = GNFFT.bpno 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |   left join PAORG PAORG  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |    ON GNLCCOL.BELONGORGNO = PAORG.orgno 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |   left join butxnAR butxn  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |     on GNLCCOL.txnNo=butxn.txnNo 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  |   left join PABIGPAYNO PABIGPAYNO  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |     on PABIGPAYNO.BANKNO=GNLCCOL.ELCSRcvBKBKCd  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |   where GNFFT.FFTNO IN (SELECT LOANBIZNO FROM BULOANSFO b)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |   AND GNFFT.FFTNO NOT IN (SELECT fft.fftasstno from FFTASSTINFO fft where fft.fftasstno = GNFFT.FFTNO)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |   and butxn.TRANORGNO= $1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  | UNION 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | SELECT  TYFFTFO.FFTNO as FFTASSTNO, ? AS FFTASSTREGNB,PAORG.orgName AS KZBANKNAME,TYFFTFO.acptAmt as HONOURAMOUNT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | --case when TYFFTFO.rate is not null then to_char(TYFFTFO.rate,'fm9999990.90') || '-' || to_char(TYFFTFO.rate,'fm9999990.90')
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  | --      else '' end AS RATE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  | TYFFTFO.rate as RATE, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | TO_CHAR(TYFFTFO.matureDate,?) AS DATEOFPAYMENT,? AS FFTREGRTYPE,? AS ASSGNMTNBOFTMS,?AS FFTASSTBIZTYPE,? AS FFTTRDSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  | ? AS FFTASSTSTAT,? AS BANKCODE, ? AS ISYZMZCSTAT, butxn.TRANDATE AS TRANDATE , ? as FFTASSTPSTNB 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  | FROM TYFFTFO TYFFTFO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  | LEFT JOIN BUTXNAR butxn ON butxn.TXNNO = TYFFTFO.txnno
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  | left join PAORG PAORG  on butxn.TRANORGNO = PAORG.orgno 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  | LEFT JOIN TYFFTPAYFO TYFFTPAYFO ON TYFFTPAYFO.FFTNO=TYFFTFO.FFTNO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
          |         |       |                  | left join PABIGPAYNO PABIGPAYNO  on PABIGPAYNO.BANKNO=TYFFTPAYFO.receBankBigNo
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  | WHERE TYFFTFO.ISZR IS NULL --没有转让
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  | AND TYFFTFO.FFTNO IN (SELECT b.FFTNO FROM TYFFTPAYFO b) --已经放款
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | AND NOT EXISTS (SELECT c.BIZNO FROM PBSTAFO c WHERE c.BIZNO = TYFFTFO.FFTNO AND c.ISCLOSE = ?) 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  | AND TYFFTFO.FFTNO NOT IN (SELECT fft.fftasstno from FFTASSTINFO fft where fft.fftasstno = TYFFTFO.FFTNO) 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  | and butxn.TRANORGNO= $2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  | UNION
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  | select DISTINCT a.FFTASSTNO AS FFTASSTNO,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |     a.FFTASSTREGNB AS FFTASSTREGNB,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |      a.BANKNAME AS KZBANKNAME,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  CASE WHEN a.HONOURAMOUNT IS NOT NULL 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  THEN 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  a.HONOURAMOUNT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |      --  WHEN a.HONOURAMOUNT IS NULL AND b.ACPTAMT IS NOT NULL 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |      --  THEN 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  b.ACPTAMT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |      --  WHEN a.HONOURAMOUNT IS NULL AND b.ACPTAMT IS NULL AND d.ACPTAMT IS NOT NULL 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |      --  THEN 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      --  d.ACPTAMT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |      --  END  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |       f.FFTDEALAMT AS HONOURAMOUNT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |        --(Concat(Concat(a.MAXIMUMRATE, '-'), a.MINIMUMRATE)) RATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | --       case when a.MINIMUMRATE is not null then to_char(a.MAXIMUMRATE,'fm9999990.90') || '-' || to_char(a.MINIMUMRATE,'fm9999990.90')
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  | --      else '' end AS RATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |         f.FFTRATE AS RATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |      --  TO_CHAR(a.DATEOFPAYMENT,'yyyy-MM-dd') AS DATEOFPAYMENT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |        f.FFTRZDATE AS DATEOFPAYMENT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         a.FFTREGRTYPE AS FFTREGRTYPE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |         a.ASSGNMTNBOFTMS AS ASSGNMTNBOFTMS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |          a.FFTASSTBIZTYPE AS FFTASSTBIZTYPE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |          a.FFTTRDSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |        a.FFTASSTSTAT AS FFTASSTSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |      a.INBANKCODE AS BANKCODE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
          |         |       |                  |      ? AS ISYZMZCSTAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |      e.TRANDATE AS TRANDATE,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |      a.FFTASSTPSTNB AS FFTASSTPSTNB 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |   from FFTASSTINFO a 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  |   LEFT JOIN TYFFTFO b 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |   ON b.FFTNO = a.FFTASSTNO 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |   LEFT JOIN GNFFTFO d 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |    ON d.FFTNO = a.FFTASSTNO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |   LEFT JOIN BUTXNAR e 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |     ON e.TXNNO = a.TXNNO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |   LEFT JOIN FFTZCDETAIL f
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
          |         |       |                  |   on f.ffttxno = a.fftasstno
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |    where a.fftbs=? 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |    and a.tranorgno= $3 and ((a.FFTASSTSTAT != ? and a.FFTASSTSTAT != ? ) or a.FFTASSTSTAT IS NULL)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  | UNION
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
          |         |       |                  | select DISTINCT a.FFTASST
 elcsuat  | elcs    |    29 | 2530.92848275862 | SELECT COUNT(*) FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (                                       +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |   )and butxnar_.tranorgno in (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)  order by butxnar_.curtbizno desc ) tmp
 elcsuat  | elcs    |    29 | 2506.73137931035 | select *  FROM ( SELECT TEAP_TABLE.*, ROWNUM ROWNUM_ FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (  +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |   )and butxnar_.tranorgno in (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)  order by butxnar_.curtbizno desc  )  TEAP_TABLE WHERE ROWNUM < $3 ) WHERE ROWNUM_ >= $4
 elcsuat  | elcs    |     5 |          2418.03 | SELECT COUNT(*) FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (                                       +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |                 AND BIZNO NOT in (SELECT a.abbkbizno  FROM GNLCSINGPAYFO s , gnlcabfo a where s.bizNo=a.abno) --没做单笔扣款                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |   )and butxnar_.tranorgno in (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)  order by butxnar_.curtbizno desc ) tmp
 elcsuat  | elcs    |     5 |        2361.9362 | select *  FROM ( SELECT TEAP_TABLE.*, ROWNUM ROWNUM_ FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (  +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |                 AND BIZNO NOT in (SELECT a.abbkbizno  FROM GNLCSINGPAYFO s , gnlcabfo a where s.bizNo=a.abno) --没做单笔扣款                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |   )and butxnar_.tranorgno in (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)  order by butxnar_.curtbizno desc  )  TEAP_TABLE WHERE ROWNUM < $3 ) WHERE ROWNUM_ >= $4
 elcsuat  | elcs    |     6 | 2167.43233333333 | select *  FROM ( SELECT TEAP_TABLE.*, ROWNUM ROWNUM_ FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (  +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |                 AND BIZNO NOT in (SELECT a.abbkbizno  FROM GNLCSINGPAYFO s , gnlcabfo a where s.bizNo=a.abno) --没做单笔扣款                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |   )and butxnar_.tranorgno in (?,?,?,?,?,?,?,?,?,?,?)  order by butxnar_.curtbizno desc  )  TEAP_TABLE WHERE ROWNUM < $3 ) WHERE ROWNUM_ >= $4
 elcsuat  | elcs    |     6 | 2164.59966666667 | SELECT COUNT(*) FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (                                       +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |                 AND BIZNO NOT in (SELECT a.abbkbizno  FROM GNLCSINGPAYFO s , gnlcabfo a where s.bizNo=a.abno) --没做单笔扣款                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |   )and butxnar_.tranorgno in (?,?,?,?,?,?,?,?,?,?,?)  order by butxnar_.curtbizno desc ) tmp
 elcsuat  | elcs    |    10 |        2015.4063 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |                 AND BIZNO NOT in (SELECT a.abbkbizno  FROM GNLCSINGPAYFO s , gnlcabfo a where s.bizNo=a.abno) --没做单笔扣款                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |   
 elcsuat  | elcs    |    31 | 1922.36709677419 | SELECT COUNT(*) FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (                                       +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |   )and butxnar_.tranorgno in (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)  order by butxnar_.curtbizno desc ) tmp
 elcsuat  | elcs    |    31 | 1911.51274193548 | select *  FROM ( SELECT TEAP_TABLE.*, ROWNUM ROWNUM_ FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (  +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |   )and butxnar_.tranorgno in (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)  order by butxnar_.curtbizno desc  )  TEAP_TABLE WHERE ROWNUM < $3 ) WHERE ROWNUM_ >= $4
 elcsuat  | elcs    |     7 | 1849.48157142857 | select *  FROM ( SELECT TEAP_TABLE.*, ROWNUM ROWNUM_ FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (  +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |   )and butxnar_.tranorgno in (?,?,?,?,?,?,?,?,?,?,?)  order by butxnar_.curtbizno desc  )  TEAP_TABLE WHERE ROWNUM < $3 ) WHERE ROWNUM_ >= $4
 elcsuat  | elcs    |     7 | 1845.11885714286 | SELECT COUNT(*) FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select ACCEPTAMT from GNLCBPMAILfo where mailNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (                                       +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |   )and butxnar_.tranorgno in (?,?,?,?,?,?,?,?,?,?,?)  order by butxnar_.curtbizno desc ) tmp
 elcsuat  | elcs    |    33 | 1703.76615151515 | SELECT COUNT(*) FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select abAmt from GNLCABfo where abNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select abAmt from GNLCABfo where abNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (--国内证付款                                               +
          |         |       |                  |         SELECT DISTINCT a.ABNO FROM GNLCABFO a WHERE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                a.ABNO IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |             (SELECT DISTINCT c.ABNO FROM GNLCABFO c WHERE (c.ABNO IN (SELECT DISTINCT b.BIZNO FROM PBACPTFO b)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |                AND c.LCNO IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |             (SELECT DISTINCT x.LCNO   FROM GNLCISSUEFO x WHERE x.DEFERPAYTYPE != ?))--远期信用证已承兑                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |                OR (c.LCNO IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |             (SELECT DISTINCT x.LCNO FROM GNLCISSUEFO x WHERE (x.DEFERPAYTYPE = ?))))--或者即期已到单                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                AND  A.ABNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |             (SELECT BIZNO FROM PBSTAFO WHERE  nvl(ISCLOSE,?) = ?)--未必卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |                AND  A.ABNO IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |             (SELECT bizno FROM BUBALFO WHERE FIELDNAME = ? AND AMOUNT > ?)--到单余额大于零                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |                AND  A.LCNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |             (SELECT BIZNO FROM PBSTAFO WHERE  nvl(ISCLOSE,?) = ?)--未必卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |                 AND  A.ABNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |             (SELECT BIZNO FROM PBPAYFO p WHERE  p.bizNo=A.ABNO )--已经付款                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |               AND A.Abbkbizno NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |             (select s.bpno from gnfftfo s where s.bpno=a.abbkbizno)--未做国内证福费廷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |             or A.Abbkbizno  IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |             (select s.bpno from gnfftfo s,GNFFTPaymentFO r where r.FFTNO=s.fftno and s.bpno=a.abbkbizno and s.lcno is not null) --线下转卖                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |             or A.Abbkbizno  IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |             (select DISTINCT d.SENDDEBITNO from FFTZMLKFO r,FFTZCDETAIL d where d.FFTASSTNO=r.FFTARNO  and d.SENDDEBITNO=a.abbkbizno)--线上转卖                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  |             ) and butxnar_.tranorgno = $3 order by butxnar_.curtbizno desc ) tmp
 elcsuat  | elcs    |    33 | 1698.38681818182 | select *  FROM ( SELECT TEAP_TABLE.*, ROWNUM ROWNUM_ FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select abAmt from GNLCABfo where abNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select abAmt from GNLCABfo where abNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (--国内证付款          +
          |         |       |                  |         SELECT DISTINCT a.ABNO FROM GNLCABFO a WHERE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                a.ABNO IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |             (SELECT DISTINCT c.ABNO FROM GNLCABFO c WHERE (c.ABNO IN (SELECT DISTINCT b.BIZNO FROM PBACPTFO b)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |                AND c.LCNO IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |             (SELECT DISTINCT x.LCNO   FROM GNLCISSUEFO x WHERE x.DEFERPAYTYPE != ?))--远期信用证已承兑                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |                OR (c.LCNO IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |             (SELECT DISTINCT x.LCNO FROM GNLCISSUEFO x WHERE (x.DEFERPAYTYPE = ?))))--或者即期已到单                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                AND  A.ABNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |             (SELECT BIZNO FROM PBSTAFO WHERE  nvl(ISCLOSE,?) = ?)--未必卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |                AND  A.ABNO IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |             (SELECT bizno FROM BUBALFO WHERE FIELDNAME = ? AND AMOUNT > ?)--到单余额大于零                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |                AND  A.LCNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |             (SELECT BIZNO FROM PBSTAFO WHERE  nvl(ISCLOSE,?) = ?)--未必卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |                 AND  A.ABNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |             (SELECT BIZNO FROM PBPAYFO p WHERE  p.bizNo=A.ABNO )--已经付款                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |               AND A.Abbkbizno NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |             (select s.bpno from gnfftfo s where s.bpno=a.abbkbizno)--未做国内证福费廷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |             or A.Abbkbizno  IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |             (select s.bpno from gnfftfo s,GNFFTPaymentFO r where r.FFTNO=s.fftno and s.bpno=a.abbkbizno and s.lcno is not null) --线下转卖                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |             or A.Abbkbizno  IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |             (select DISTINCT d.SENDDEBITNO from FFTZMLKFO r,FFTZCDETAIL d where d.FFTASSTNO=r.FFTARNO  and d.SENDDEBITNO=a.abbkbizno)--线上转卖                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  |             ) and butxnar_.tranorgno = $3 order by butxnar_.curtbizno desc  )  TEAP_TABLE WHERE ROWNUM < $4 ) WHERE ROWNUM_ >= $5
 elcsuat  | elcs    |    14 | 1694.66985714286 |         SELECT DISTINCT a.ABNO FROM GNLCABFO a WHERE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                a.ABNO IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
          |         |       |                  |             (SELECT DISTINCT c.ABNO FROM GNLCABFO c WHERE (c.ABNO IN (SELECT DISTINCT b.BIZNO FROM PBACPTFO b)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |                AND c.LCNO IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |             (SELECT DISTINCT x.LCNO   FROM GNLCISSUEFO x WHERE x.DEFERPAYTYPE != ?))--远期信用证已承兑                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |                OR (c.LCNO IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
          |         |       |                  |             (SELECT DISTINCT x.LCNO FROM GNLCISSUEFO x WHERE (x.DEFERPAYTYPE = ?))))--或者即期已到单                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                AND  A.ABNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |             (SELECT BIZNO FROM PBSTAFO WHERE  nvl(ISCLOSE,?) = ?)--未必卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |                AND  A.ABNO IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
          |         |       |                  |             (SELECT bizno FROM BUBALFO WHERE FIELDNAME = ? AND AMOUNT > ?)--到单余额大于零                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |                AND  A.LCNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |             (SELECT BIZNO FROM PBSTAFO WHERE  nvl(ISCLOSE,?) = ?)--未必卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
          |         |       |                  |                 AND  A.ABNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |             (SELECT BIZNO FROM PBPAYFO p WHERE  p.bizNo=A.ABNO )--已经付款                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |               AND A.Abbkbizno NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |             (select s.bpno from gnfftfo s where s.bpno=a.abbkbizno)--未做国内证福费廷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |             or A.Abbkbizno  IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |             (select s.bpno from gnfftfo s,GNFFTPaymentFO r where r.FFTNO=s.fftno and s.bpno=a.abbkbizno and s.lcno is not null) --线下转卖                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     +
          |         |       |                  |             or A.Abbkbizno  IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |             (select DISTINCT d.SENDDEBITNO from FFTZMLKFO r,FFTZCDETAIL d where d.FFTASSTNO=r.FFTARNO  and d.SENDDEBITNO=a.abbkbizno)--线上转卖
 elcsuat  | elcs    |    29 | 1629.97182758621 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  |         SELECT BIZNO FROM GNLCBPMAILFO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
          |         |       |                  |         WHERE NOT EXISTS (SELECT bizno FROM PBSTAFO WHERE BIZNO = GNLCBPMAILFO.BIZNO AND ISCLOSE = ?) --寄单未闭卷                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
          |         |       |                  |                 AND NOT EXISTS (SELECT ACCTGRPNUM FROM CREDITINTFINFO WHERE ACCTGRPNUM = GNLCBPMAILFO.BIZNO AND AUTHDISC=? AND ACCHEARCD=?) --信贷没有通过可以重复做                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |                 AND NOT EXISTS (SELECT BIZNO FROM PBSETTLEFO WHERE BIZNO = GNLCBPMAILFO.BIZNO) --不能做国内证收汇                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
          |         |       |                  |                 AND NOT EXISTS (SELECT LOANBIZNO FROM BULOANSFO WHERE PRIBIZNO = (SELECT LCADVNO FROM GNLCCOLFO WHERE GNLCCOLFO.bizno = GNLCBPMAILFO.BIZNO)) --通知有打包贷款的也不行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
          |         |       |                  |                 AND NOT EXISTS (SELECT PREBIZNO FROM butxnar WHERE PREBIZNO = GNLCBPMAILFO.BIZNO AND tradeno=?) --没做议付申请                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |   
 elcs     | elcs    |    17 | 1096.99117647059 | SELECT COUNT(*) FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select lcAmt from GNLCISSUEfo where lcNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select lcAmt from GNLCISSUEfo where lcNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (--国内证开立修改                                     +
          |         |       |                  | select distinct lcNo                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |   from gnlcissuefo a                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |  where a.lcno not in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |        (select distinct b.bizno from pbstafo b where b.isclose = ?) --没有注销                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |    and a.lcno not in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |        (select distinct e.bizno from pbstafo e where e.processstate <> ?) --没有撤销                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |    AND a.LCNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |            (SELECT DISTINCT g.lcno FROM PBACPTfo f,gnlcabfo g WHERE f.bizno=g.abno )--没有承兑                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |    AND a.LCNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |            (SELECT DISTINCT g.lcno FROM PBACPTtp f,gnlcabfo g WHERE f.bizno=g.abno )--没有承兑                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |    and a.lcno not in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |        (select DISTINCT h.lcno from gnlcabfo h where a.deferpaytype=?)--没有即期到单                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |    and a.lcno not in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |            (SELECT DISTINCT f.lcno FROM gnlcabfo f  )--没有到单                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  |    and a.lcno not in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |            (SELECT DISTINCT f.lcno FROM gnlcabtp f  )--没有到单                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  |  ) and butxnar_.tranorgno = $3 order by butxnar_.curtbizno desc ) tmp
 elcs     | elcs    |    17 | 1084.96288235294 | select *  FROM ( SELECT TEAP_TABLE.*, ROWNUM ROWNUM_ FROM ( select distinct butxnar_.curtbizno,case when $1 = $2 then pacrp_.cnname else pacrp_.enname end corpname,butxnar_.trancur, case when (select lcAmt from GNLCISSUEfo where lcNo = butxnar_.curtbizno ) is null then butxnar_.tranamt else  (select lcAmt from GNLCISSUEfo where lcNo = butxnar_.curtbizno ) end ,butxnar_.tranorgno From butxnar butxnar_ left join pacrp pacrp_ on pacrp_.maincorpno=butxnar_.custid where butxnar_.ismaintrade=? and butxnar_.transtate = ? and not exists (select ? from butxnar butxnar2_ where butxnar2_.tradeno in (select refno from patrdcd where tradeno = butxnar_.tradeno and refno is not null) and butxnar2_.curtbizno = butxnar_.curtbizno) and butxnar_.curtbizno in (--国内证开立修改+
          |         |       |                  | select distinct lcNo                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |   from gnlcissuefo a                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |  where a.lcno not in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |        (select distinct b.bizno from pbstafo b where b.isclose = ?) --没有注销                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |    and a.lcno not in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |        (select distinct e.bizno from pbstafo e where e.processstate <> ?) --没有撤销                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |    AND a.LCNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |            (SELECT DISTINCT g.lcno FROM PBACPTfo f,gnlcabfo g WHERE f.bizno=g.abno )--没有承兑                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |    AND a.LCNO NOT IN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |            (SELECT DISTINCT g.lcno FROM PBACPTtp f,gnlcabfo g WHERE f.bizno=g.abno )--没有承兑                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
          |         |       |                  |    and a.lcno not in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |        (select DISTINCT h.lcno from gnlcabfo h where a.deferpaytype=?)--没有即期到单                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |    and a.lcno not in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |            (SELECT DISTINCT f.lcno FROM gnlcabfo f  )--没有到单                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  |    and a.lcno not in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
          |         |       |                  |            (SELECT DISTINCT f.lcno FROM gnlcabtp f  )--没有到单                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
          |         |       |                  |  ) and butxnar_.tranorgno = $3 order by butxnar_.curtbizno desc  )  TEAP_TABLE WHERE ROWNUM < $4 ) WHERE ROWNUM_ >= $5
(25 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_slow_sql-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库存在慢SQL可能会引起业务阻塞、系统资源不足，甚至严重影响业务系统性能，针对这些慢SQL，建议定期进行抓取及优化<br>select pg_get_userbyid(stat.userid) as userid,db.datname,stat.query,stat.calls,stat.total_time/stat.calls as per_time from pg_stat_statements stat left outer join pg_database db on stat.dbid=db.oid  where db.datname not in ('vastbase','postgres','template0','template1') and per_time >1000 order by per_time desc
		</div>
		</div></br>
<h3 id=db_config>配置文件检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_config'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_config","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_config' class='detail-text-get'>----->>>---->>>  pg_hba.conf : 
local   all             all                                     trust
host    all             all             127.0.0.1/32            trust
host    all             all             ::1/128                 trust
host all all 0.0.0.0/0 md5
----->>>---->>>  postgresql.conf: 
max_connections = 200			
session_timeout = 10min			
shared_buffers = 32MB			
bulk_write_ring_size = 2GB		
max_prepared_transactions = 200		
cstore_buffers = 512MB         
wal_level = hot_standby			
enable_incremental_checkpoint = on	
incremental_checkpoint_timeout = 60s	
max_wal_senders = 4		
wal_keep_segments = 16		
enable_slot_log = off
max_replication_slots = 8	
synchronous_standby_names = '*'	
walsender_max_send_size = 8MB  
hot_standby = on			
enable_kill_query = off			
logging_collector = on   		
log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'	
log_file_mode = 0600			
log_rotation_size = 20MB		
log_min_duration_statement = 1800000	
log_connections = off			
log_disconnections = off		
log_duration = off			
log_hostname = off			
log_line_prefix = '%m %u %d %h %p %S '	
log_timezone = 'PRC'
vastbase_login_info = on		
enable_alarm = on
connection_alarm_rate = 0.9
alarm_report_interval = 10
alarm_component = '/opt/snas/bin/snas_cm_cmd'
use_workload_manager = on		
default_transaction_read_only = 'false'
datestyle = 'iso, mdy'
timezone = 'PRC'
lc_messages = 'en_US.utf8'			
lc_monetary = 'en_US.utf8'			
lc_numeric = 'en_US.utf8'			
lc_time = 'en_US.utf8'				
default_text_search_config = 'pg_catalog.english'
lockwait_timeout = 1200s		
pgxc_node_name = 'node1'			
audit_enabled = off
job_queue_processes = 10        
license_path='/app/vasthome/.license'
listen_addresses='*'
port=5432   
max_connections = 1200
maintenance_work_mem=128MB  
shared_buffers=3GB   
effective_cache_size=12GB  
max_process_memory=12GB    
work_mem=4MB
cstore_buffers=16MB
wal_buffers=16MB
archive_mode = off
archive_dest='/data/archive_wals'   
vacuum_cost_limit=10000
autovacuum=on
autovacuum_mode=mix
autovacuum_max_workers=5
autovacuum_naptime=20s
autovacuum_vacuum_cost_delay=0
autovacuum_vacuum_scale_factor = 0.02
autovacuum_analyze_scale_factor = 0.1
track_sql_count=on
session_timeout=0
enable_thread_pool = off
password_encryption_type=0
password_force_alter=off
password_effect_time=36500
remote_read_mode='non_authentication'
enable_resource_track=on
instr_unique_sql_count=20000
enable_auto_clean_unique_sql=on
enable_wdr_snapshot=on
lc_messages = 'en_US.utf8'
lc_monetary = 'en_US.utf8'
lc_numeric = 'en_US.utf8'
lc_time = 'en_US.utf8'
wal_level=hot_standby
hot_standby=on
max_wal_senders=4
vastbase_login_info=false
log_statement='ddl'
log_duration = off         
log_line_prefix = '%m %r %d %u [%p]'
shared_preload_libraries = 'pg_stat_statements,decoderbufs,jdbc_fdw'  
pg_stat_statements.max = 10000
pg_stat_statements.track = all
track_activity_query_size=4096
upgrade_mode = 0
password_lock_time=5
enable_stmt_track=off				
enable_cbm_tracking = off
instr_unique_sql_count = 10000		
track_stmt_stat_level='off,L1'
log_duration=off
log_min_duration_statement=3000 	
enable_wdr_snapshot = on				
wdr_snapshot_retention_days = 4
enable_resource_track=on
enable_auto_clean_unique_sql=on
temp_file_limit=52428800
enable_asp = off</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_config-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		配置文件检查
		</div>
		</div></br>
<h3 id=db_role_setting>定制参数检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_role_setting'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_role_setting","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_role_setting' class='detail-text-get'>----->>>---->>>  用户或数据库级别定制参数: 
 setdatabase | setrole | setconfig 
-------------+---------+-----------
(0 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_role_setting-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		定制参数检查
		</div>
		</div></br>
<h3 id=db_conn_param>连接参数检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_conn_param'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_conn_param","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_conn_param' class='detail-text-get'>根据内存大小检测，max_connections 连接数设置属于合理范围。
 setting 
---------
 1200
(1 row)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_conn_param-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		该参数是数据库最大连接数配置，连接数过小，将影响业务使用，连接数过大，将占用过多的系统资源，合理配置该参数尤为重要。<br>连接数过小，以数据库日志最近一周出现too many clients为依据<br>连接数过大，以设置的连接数数量*4096>内存的一半为依据<br>监听地址 listen_addresses应为*或0.0.0.0
		</div>
		</div></br>
<h3 id=db_mem_param>内存参数检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_mem_param'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_mem_param","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_mem_param' class='detail-text-get'>=========== shared_buffers ===========

shared_buffers 配置合理。
 ?column? 
----------
  3145728
(1 row)

=========== effective_cache_size ===========

effective_cache_size 配置过大12582912 KB
shared_buffers_percent=0.20
effective_cache_size_percent=0.82
shared_buffers=3145728
effective_cache_size=12582912</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_mem_param-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		内存参数合理性检查，对于存在不合理的内存参数将影响数据库稳定运行，甚至严重会导致OOM，以下内存参数建议参考标准化文档进行配置：<br>enable_memory_limit=on<br>60%主机内存≤max_process_memory≤80%主机内存<br>10%主机内存≤shared_buffers≤40%主机内存<br>60%主机内存≤effective_cache_size≤80%主机内存<br>16MB≤wal_buffers≤1GB<br>maintenance_work_mem ≤ 物理内存* 0.15 / autovacuum_max_workers
		</div>
		</div></br>
<h3 id=db_xlog_param>xlog参数检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_xlog_param'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_xlog_param","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_xlog_param' class='detail-text-get'>wal_keep_segments=16
checkpoint_timeout=900
archive_mode=off</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_xlog_param-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		归档参数合理性检查，对于存在不合理的归档参数将影响数据库的归档，或导致归档膨胀及失败，参数检查如下：<br>128 ≤wal_keep_segments ≤ 1024<br>checkpoint_timeout>=15min<br>archive_mode=on
		</div>
		</div></br>
<h3 id=db_passwd_param>密码参数检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_passwd_param'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_passwd_param","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_passwd_param' class='detail-text-get'>password_effect_time=36500
password_force_alter=off
failed_login_attempts=5</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_passwd_param-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		密码有效性参数检查，对于存在不合理的参数可能会导致用户无法登陆,建议有效性配置如下：<br>password_effect_time=36500<br>password_force_alter=off<br>failed_login_attempts≥10
		</div>
		</div></br>
<h3 id=db_autoacuum_param>autovacuum参数检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_autoacuum_param'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_autoacuum_param","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_autoacuum_param' class='detail-text-get'>autovacuum_max_workers=5
autovacuum=on
autovacuum_mode=mix</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_autoacuum_param-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		autovacuum自动清理参数配置，建议配置如下<br>建议：<br>1）autovacuum_max_workers: 5 - 12<br>2）autovacuum =on <br>3）autovacuum_mode = mix
		</div>
		</div></br>
<h3 id=db_query_dop>并行参数检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_query_dop'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_query_dop","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_query_dop' class='detail-text-get'>query_dop=1</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_query_dop-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		query_dop是并行参数，目前建议改参数配置为1，不做修改
		</div>
		</div></br>
<h3 id=db_log_param>log参数检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_log_param'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_log_param","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_log_param' class='detail-text-get'>logging_collector=on
log_rotation_age=1440
log_statement=ddl
log_min_messages=warning</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_log_param-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		开启日志记录能协助进行数据库异常报错定位，建议开启数据库日志记录,建议：<br>1）logging_collector：on<br>2）log_rotation_age：1440 or 1d <br>3）log_statement : ddl<br>4) log_min_messages = warning
		</div>
		</div></br>
<h3 id=db_temp_file_limit>临时文件参数检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_temp_file_limit'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_temp_file_limit","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_temp_file_limit' class='detail-text-get'>temp_file_limit=52428800</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_temp_file_limit-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		该参数用来指定临时文件可占用的最大磁盘空间，不限制将有可能导致磁盘空间爆满，进而影响数据库运行，建议配置为：temp_file_limit ≤ 100GB
		</div>
		</div></br>
<h3 id=db_databases_size>数据库容量检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_databases_size'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_databases_size","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_databases_size' class='detail-text-get'>template1|27 MB
template0|27 MB
vastbase|28 MB
postgres|9805 MB
elcs|7088 MB</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_databases_size-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库容量检查，根据容量情况了解业务数据分布情况
		</div>
		</div></br>
<h3 id=db_table_fragment>表碎片检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_table_fragment'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_table_fragment","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_table_fragment' class='detail-text-get'>数据库 vastbase 不存在表膨胀
 current_database | schemaname | tblname | real_size | bloat_size | bloat_pct 
------------------+------------+---------+-----------+------------+-----------
(0 rows)

数据库 postgres 不存在表膨胀
 current_database | schemaname | tblname | real_size | bloat_size | bloat_pct 
------------------+------------+---------+-----------+------------+-----------
(0 rows)

数据库 elcs 不存在表膨胀
 current_database | schemaname | tblname | real_size | bloat_size | bloat_pct 
------------------+------------+---------+-----------+------------+-----------
(0 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_table_fragment-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		表膨胀将会影响表的扫描时间，影响SQL执行效率，存在表膨胀现象的表，需要及时清理，检查阈值bloat_pct>50，即膨胀率大于50%告警
		</div>
		</div></br>
<h3 id=db_idx_fragment>索引碎片检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_idx_fragment'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_idx_fragment","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_idx_fragment' class='detail-text-get'>数据库 vastbase 暂无索引膨胀

数据库 postgres 索引膨胀top5情况如下
     db    | schemaname |            tablename             |                iname                 |  itups  | ipages |  iotta  | ibloat | wastedipages |  wastedibytes  
----------+------------+----------------------------------+--------------------------------------+---------+--------+---------+--------+--------------+----------------
 postgres | snapshot   | snap_class_vital_info            | snap_class_vital_info_idx            | 1173864 |   9333 | 3455.93 |    2.7 |      5877.07 | 48144963 bytes
 postgres | snapshot   | snap_global_shared_memory_detail | snap_global_shared_memory_detail_idx |  789358 |   6263 | 2323.92 |    2.7 |      3939.08 | 32268948 bytes
 postgres | snapshot   | snap_summary_statio_all_indexes  | snap_summary_statio_all_indexes_idx  |  639204 |   5117 | 1881.86 |   2.72 |      3235.14 | 26502294 bytes
 postgres | snapshot   | snap_summary_stat_all_indexes    | snap_summary_stat_all_indexes_idx    |  639204 |   5098 | 1881.86 |   2.71 |      3216.14 | 26346646 bytes
 postgres | snapshot   | snap_global_statio_all_indexes   | snap_global_statio_all_indexes_idx   |  639204 |   5094 | 1881.86 |   2.71 |      3212.14 | 26313878 bytes
(5 rows)

数据库 elcs 索引膨胀top5情况如下
   db  | schemaname |   tablename    |       iname        | itups  | ipages | iotta  | ibloat | wastedipages | wastedibytes  
------+------------+----------------+--------------------+--------+--------+--------+--------+--------------+---------------
 elcs | elcsuat    | paorgrel       | pk_paorgrel        |    688 |    696 |   3.21 | 217.02 |       692.79 | 5675360 bytes
 elcs | elcs       | paorgrel       | pk_paorgrel        |    682 |    690 |   3.18 | 217.04 |       686.82 | 5626437 bytes
 elcs | elcszsc    | paorgrel       | pk_paorgrel        |    679 |    686 |   3.17 | 216.74 |       682.83 | 5593784 bytes
 elcs | elcsuat    | tpelcsmsgerror | tpelcsmsgerror_key | 237670 |    918 | 787.18 |   1.17 |       130.82 | 1071679 bytes
 elcs | elcsuat    | itstuar        | ix234_itstuar      |  80428 |    402 | 325.58 |   1.23 |        76.42 | 626037 bytes
(5 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_idx_fragment-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		索引膨胀将会影响索引的扫描时间，影响SQL执行效率，存在索引膨胀现象的表，需要及时清理
		</div>
		</div></br>
<h3 id=db_xlog_check>xlog日志检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_xlog_check'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_xlog_check","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_xlog_check' class='detail-text-get'>本地归档目录不存在,因此查询在线xlog目录/data/vastdata/pg_xlog
day_id| wal_num_all
20240422|51
20240423|96</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_xlog_check-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		检查生产的xlog日志增长情况，优先检查归档目录，如果不存在再检查xlog日志目录。监控xlog日志生成量，xlog日志暴增容易引起磁盘空间不足、磁盘IO等待，严重情况下会导致集群发生异常，判断检查标准为：<br>监控归档目录里的每日的xlog日志，如果最大一天是最小一天的3倍以上，则提示异常
		</div>
		</div></br>
<h3 id=db_xlog_total_size>xlog日志总大小检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_xlog_total_size'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_xlog_total_size","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_xlog_total_size' class='detail-text-get'>xlog日志总大小为：2.3G，相对较小

数据目录xlog日志大小如下：
2.3G   /data/vastdata/pg_xlog

未开启归档</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_xlog_total_size-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		检查xlog总大小，是否有需要进行清理等操作
		</div>
		</div></br>
<h3 id=db_log_dir_usage>日志目录使用率过高检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_log_dir_usage'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_log_dir_usage","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_log_dir_usage' class='detail-text-get'>数据库日志目录: /data/vastdata/pg_log
数据库日志目录大小和pg_xlog目录大小正常。
数据库日志大小=1735281472
pg_xlog日志大小=2466279424
数据库日志目录下最大的5个日志文件如下:
6.2M	/data/vastdata/pg_log/postgresql-2024-04-05_182341.log
21M	/data/vastdata/pg_log/postgresql-2024-04-06_000000.log
6.2M	/data/vastdata/pg_log/postgresql-2024-04-06_182325.log
21M	/data/vastdata/pg_log/postgresql-2024-04-07_000000.log
21M	/data/vastdata/pg_log/postgresql-2024-04-07_171155.log</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_log_dir_usage-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		日志目录使用率检查，防止日志目录使用空间过高引起磁盘空间不足，检查标准：<br>日志总量大小不超过10G和pg_xlog目录不大于50GB
		</div>
		</div></br>
<h3 id=db_tbs_usage_rate>表空间使用率过高检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_tbs_usage_rate'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_tbs_usage_rate","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_tbs_usage_rate' class='detail-text-get'>使用率大于90%的磁盘有 :

详见：硬盘使用情况</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_tbs_usage_rate-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		表空间使用率过高检查，表空间使用率过高容易引起磁盘空间不足，导致数据库运行异常，检查标准：<br>表空间使用不超过90%<br><a class="gotodisk" href="#disk" onclick="changeLink('#db_tbs_usage_rate')" )">跳转至硬盘使用情况</a>
		</div>
		</div></br>
<h3 id=db_dir_usage_rate>数据库目录使用过高检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_dir_usage_rate'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_dir_usage_rate","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_dir_usage_rate' class='detail-text-get'>数据目录使用率不超过80%。
详见：硬盘使用情况
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/uos-data   99G   24G   70G  26% /data</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_dir_usage_rate-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库目录使用过高检查，$PGDATA使用率过高容易引起磁盘空间不足，导致数据库运行异常，检查标准：<br>数据库目录使用不超过85%<br><a class="gotodisk" href="#disk" onclick="changeLink('#db_dir_usage_rate')" )">跳转至硬盘使用情况</a>
		</div>
		</div></br>
<h3 id=backup_dir_usage>备份目录使用率过高检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_backup_dir_usage'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-backup_dir_usage","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-backup_dir_usage' class='detail-text-get'>备份目录使用率正常范围值。
详见：硬盘使用情况
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/uos-data   99G   24G   70G  26% /data</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=backup_dir_usage-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		备份目录使用率过高容易导致数据库备份失败，容易导致异常时无可用备份文件进行修复数据库，检查标准：<br>备份目录使用率不超过80%<br><a class="gotodisk" href="#disk" onclick="changeLink('#backup_dir_usage')")">跳转至硬盘使用情况</a>
		</div>
		</div></br>
<h3 id=file_count>文件数检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_file_count'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-file_count","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-file_count' class='detail-text-get'>cat /proc/102631/limits

Limit                     Soft Limit           Hard Limit           Units     
Max cpu time              unlimited            unlimited            seconds   
Max file size             unlimited            unlimited            bytes     
Max data size             unlimited            unlimited            bytes     
Max stack size            unlimited            unlimited            bytes     
Max core file size        unlimited            unlimited            bytes     
Max resident set          unlimited            unlimited            bytes     
Max processes             unlimited            unlimited            processes 
Max open files            1000000              1000000              files     
Max locked memory         65536                65536                bytes     
Max address space         unlimited            unlimited            bytes     
Max file locks            unlimited            unlimited            locks     
Max pending signals       57819                57819                signals   
Max msgqueue size         819200               819200               bytes     
Max nice priority         0                    0                    
Max realtime priority     0                    0                    
Max realtime timeout      unlimited            unlimited            us        

opend_file_count=1662
max_open_file_count=1000000</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=file_count-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		文件数检查，文件数不足容易引起用户无法连接到数据库，配置足够的可打开文件数对数据库尤为重要，但文件数不宜超过100000,G100和openGauss可以参考<br>https://opengauss.org/zh/docs/1.0.1/docs/installation/初始化安装环境.html#配置操作系统参数
		</div>
		</div></br>
<h3 id=oom_risk_check>OOM风险检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_oom_risk_check'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-oom_risk_check","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-oom_risk_check' class='detail-text-get'>日志文件 /data/vastdata/pg_log/postgresql-2024-04-19_143242.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-19_171557.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-19_195857.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-19_224207.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-20_000000.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-20_024300.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-20_052600.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-20_080900.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-20_105206.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-20_133453.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-20_155456.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-20_180807.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-20_201846.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-20_222854.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-21_000000.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-21_020728.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-21_041449.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-21_062217.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-21_082948.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-21_103656.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-21_124254.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-21_144857.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-21_165519.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-21_190125.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-21_210728.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-21_231325.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-22_000000.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-22_020636.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-22_041237.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-22_061739.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-22_082225.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-22_102723.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-22_123158.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-22_143632.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-22_164101.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-22_184545.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-22_205011.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-22_225451.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-23_000000.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-23_020450.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-23_040924.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-23_061410.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-23_081846.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-23_102156.log 中没有 OOM 风险相关报错。

日志文件 /data/vastdata/pg_log/postgresql-2024-04-23_151030.log 中没有 OOM 风险相关报错。

0</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=oom_risk_check-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		OOM风险检查，数据库内存不足的情况下，容易触发操作系统OOM风险，导致数据库异常宕机，业务无法使用，建议检查数据库日志有无 memory alloc failed 、memory is temporarily unavailable等内存报错
		</div>
		</div></br>
<h3 id=keyword_obj>关键字对象名检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_keyword_obj'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-keyword_obj","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-keyword_obj' class='detail-text-get'>数据库表中没有使用关键字的列！！
 owner | table_name | col1 | col2 
-------+------------+------+------
(0 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=keyword_obj-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		关键字对象名检查，业务对象中使用数据库保留关键字容易导致业务及数据库运行异常，为防止该问题的出现，建议不要使用数据库关键字作为对象字段及他用
		</div>
		</div></br>
<h3 id=statistical_info>统计信息检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_statistical_info'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-statistical_info","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-statistical_info' class='detail-text-get'>数据库 vastbase 中表均已执行统计analyze

数据库 postgres 中表均已执行统计analyze

数据库 elcs 中表均已执行统计analyze</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=statistical_info-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		正确的统计信息有利于数据库优化器选择正确的执行计划，提高SQL的执行效率，如果对象长时间无更新统计信息，则需要进行统计信息收集
		</div>
		</div></br>
<h3 id=language_env>语言环境检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_language_env'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-language_env","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-language_env' class='detail-text-get'>默认语言环境是 en_US.UTF-8

language_env=en_US.UTF-8</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=language_env-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		语言环境检查，数据库用户LANG建议设置为en_US.UTF-8，如果为zh_cn容易导致中文显示乱码等问题
		</div>
		</div></br>
<h3 id=db_passwd_check>数据库用户密码过期检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_passwd_check'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_passwd_check","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_passwd_check' class='detail-text-get'>         rolname          | rolvaliduntil 
--------------------------+---------------
 gs_role_copy_files       | 
 gs_role_signal_backend   | 
 gs_role_tablespace       | 
 gs_role_replication      | 
 gs_role_account_lock     | 
 gs_role_pldebugger       | 
 gs_role_directory_create | 
 gs_role_directory_drop   | 
 vb_read_all_settings     | 
 vbsso                    | 
 vbaudit                  | 
 vastbase                 | 
 vbadmin                  | 
 vbmigrate                | 
 dbmonqry                 | 
 elcs                     | 
 elcsuat                  | 
 elcszsc                  | 
(18 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_passwd_check-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		数据库用户密码过期检查，到期后，用户将无法登陆，记得修改密码，同时将密码到期时间延长到某个时间或无限时间，使用命令：<br>alter role ... VALID UNTIL 'timestamp'
		</div>
		</div></br>
<h3 id=db_superuser_auth_check>业务账号权限检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_superuser_auth_check'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_superuser_auth_check","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_superuser_auth_check' class='detail-text-get'>数据库非默认用户都不是超级用户。</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_superuser_auth_check-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		业务账号superuser权限检查，从数据用户管理角度，不建议普通及开发用户拥有超级用户及管理员权限
		</div>
		</div></br>
<h3 id=db_sql_inject_check>SQL注入风险检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_sql_inject_check'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_sql_inject_check","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_sql_inject_check' class='detail-text-get'>没有SQL注入风险！！</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_sql_inject_check-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		SQL注入风险检查，数据库调用exec_simple_query有风险，建议程序使用绑定变量规避SQL注入风险，或者程序端使用SQL注入过滤插件
		</div>
		</div></br>
<h3 id=db_unused_idx_check>未使用索引检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_unused_idx_check'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_unused_idx_check","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_unused_idx_check' class='detail-text-get'>数据库中不存在使用次数不超过10次的索引
 current_database | schemaname | relname | indexrelname | idx_scan | idx_tup_read | idx_tup_fetch | pg_size_pretty 
------------------+------------+---------+--------------+----------+--------------+---------------+----------------
(0 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_unused_idx_check-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		未使用索引检查，根据实际需要，筛选和删除未使用或不常使用索引，避免索引冗余对数据库性能和资源造成影响
		</div>
		</div></br>
<h3 id=db_license_check>数据库LICENSE检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_db_license_check'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-db_license_check","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-db_license_check' class='detail-text-get'>license文件的信息为:
license path: /app/vasthome/.license

license info: Customer:'GuiLinYinHang', Begins On:'1970-01-01 08:00:01', Expires On:'2969-05-07 13:23:21', MAC:''</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=db_license_check-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		请关注数据库过期时间
		</div>
		</div></br>
<h3 id=drop_column>删除字段检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_drop_column'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-drop_column","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-drop_column' class='detail-text-get'>数据库 vastbase 暂无删除字段操作

数据库 postgres 暂无删除字段操作

数据库 elcs 暂无删除字段操作</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=drop_column-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		如果表上做过DROP COLUMN操作，后续执行MERGE INTO或INSERT ALL可能导致宕机，最恶劣的情况下会写坏数据!
		</div>
		</div></br>
<h3 id=before_row_update>触发器检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_before_row_update'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-before_row_update","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-before_row_update' class='detail-text-get'>数据库 vastbase 暂无before row update触发器
 owner | trigger_name | trigger_type | triggering_event | table_owner | base_object_type | table_name | column_name | referencing_names | when_clause | status | description | action_type | trigger_body | crossedition | before_statement | before_row | after_row | after_statement | instead_of_row | fire_once | apply_server_only 
-------+--------------+--------------+------------------+-------------+------------------+------------+-------------+-------------------+-------------+--------+-------------+-------------+--------------+--------------+------------------+------------+-----------+-----------------+----------------+-----------+-------------------
(0 rows)

数据库 postgres 暂无before row update触发器
 owner | trigger_name | trigger_type | triggering_event | table_owner | base_object_type | table_name | column_name | referencing_names | when_clause | status | description | action_type | trigger_body | crossedition | before_statement | before_row | after_row | after_statement | instead_of_row | fire_once | apply_server_only 
-------+--------------+--------------+------------------+-------------+------------------+------------+-------------+-------------------+-------------+--------+-------------+-------------+--------------+--------------+------------------+------------+-----------+-----------------+----------------+-----------+-------------------
(0 rows)

数据库 elcs 暂无before row update触发器
 owner | trigger_name | trigger_type | triggering_event | table_owner | base_object_type | table_name | column_name | referencing_names | when_clause | status | description | action_type | trigger_body | crossedition | before_statement | before_row | after_row | after_statement | instead_of_row | fire_once | apply_server_only 
-------+--------------+--------------+------------------+-------------+------------------+------------+-------------+-------------------+-------------+--------+-------------+-------------+--------------+--------------+------------------+------------+-----------+-----------------+----------------+-----------+-------------------
(0 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=before_row_update-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		2.2.10及之前版本存在触发器缺陷，需要数据库运维人员根据业务实际情况判断
		</div>
		</div></br>
<h3 id=virtual_column>虚拟列检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_virtual_column'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-virtual_column","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-virtual_column' class='detail-text-get'>数据库 vastbase 暂无虚拟列
 attname | relname | generated_column 
---------+---------+------------------
(0 rows)

数据库 postgres 暂无虚拟列
 attname | relname | generated_column 
---------+---------+------------------
(0 rows)

数据库 elcs 暂无虚拟列
 attname | relname | generated_column 
---------+---------+------------------
(0 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=virtual_column-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		2.2.10版本存在虚拟列使用缺陷，需要数据库运维人员根据业务实际情况判断
		</div>
		</div></br>
<h3 id=insert_and_merge>版本漏洞检查</h3>
<table style='width: 94%' border=1 id=>
<tr><td><div class='detail_wrapper'>
		<input type='checkbox' class='detail_exp' id='detail_exp_insert_and_merge'>
		<div class='detail_text'><button title='Copy' class='icon-copy copied' type=button onclick='copyText("detail-text-get-insert_and_merge","detail-text-copy-transfer")'><textarea id=detail-text-copy-transfer></textarea><div class='copy-hint copy-suc' id='copy-success'><span rel=con>复制成功</span></div></button><div id='detail-text-get-insert_and_merge' class='detail-text-get'>enable_opfusion未关闭!!!:
on
dbe_perf.statement中暂无insert all 或 merge into 相关语句
 node_name | node_id | user_name | user_id | unique_sql_id | query | n_calls | min_elapse_time | max_elapse_time | total_elapse_time | n_returned_rows | n_tuples_fetched | n_tuples_returned | n_tuples_inserted | n_tuples_updated | n_tuples_deleted | n_blocks_fetched | n_blocks_hit | n_soft_parse | n_hard_parse | db_time | cpu_time | execution_time | parse_time | plan_time | rewrite_time | pl_execution_time | pl_compilation_time | data_io_time | net_send_info | net_recv_info | net_stream_send_info | net_stream_recv_info | last_updated | sort_count | sort_time | sort_mem_used | sort_spill_count | sort_spill_size | hash_count | hash_time | hash_mem_used | hash_spill_count | hash_spill_size 
-----------+---------+-----------+---------+---------------+-------+---------+-----------------+-----------------+-------------------+-----------------+------------------+-------------------+-------------------+------------------+------------------+------------------+--------------+--------------+--------------+---------+----------+----------------+------------+-----------+--------------+-------------------+---------------------+--------------+---------------+---------------+----------------------+----------------------+--------------+------------+-----------+---------------+------------------+-----------------+------------+-----------+---------------+------------------+-----------------
(0 rows)

pg_stat_statements中暂无insert all 或 merge into 相关语句
 userid | dbid | query | calls | total_time | rows | shared_blks_hit | shared_blks_read | shared_blks_dirtied | shared_blks_written | local_blks_hit | local_blks_read | local_blks_dirtied | local_blks_written | temp_blks_read | temp_blks_written | blk_read_time | blk_write_time 
--------+------+-------+-------+------------+------+-----------------+------------------+---------------------+---------------------+----------------+-----------------+--------------------+--------------------+----------------+-------------------+---------------+----------------
(0 rows)

gs_asp中暂无insert all 或 merge into 相关语句
 sampleid | sample_time | need_flush_sample | databaseid | thread_id | sessionid | start_time | event | lwtid | psessionid | tlevel | smpid | userid | application_name | client_addr | client_hostname | client_port | query_id | unique_query_id | user_id | cn_id | unique_query | locktag | lockmode | block_sessionid | wait_status | global_sessionid 
----------+-------------+-------------------+------------+-----------+-----------+------------+-------+-------+------------+--------+-------+--------+------------------+-------------+-----------------+-------------+----------+-----------------+---------+-------+--------------+---------+----------+-----------------+-------------+------------------
(0 rows)</div></div>
		</div></td></tr>
</table></br>

		<div class='panel panel-warning'>
		<div class='panel-heading'>
		<h5 class='panel-title' id=insert_and_merge-suggestion>
		<div class='icon-suggestion'></div>
		Suggestion
		</h5>
		</div>
		<div class='panel-body'>
		检查当前是否存在使用insert all 或 merge into 的情况，后续需要关注这些表是否有删除字段的可能性。
以及enable_fusion开启可能会导致insert all宕库，建议关闭。
		</div>
		</div></br>
</main></div>
</body></html>
